<!doctype html>
{% load static %}
<html lang="{{ meta.lang|default:'en' }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=1280, initial-scale=1">
    <title>{{ meta.title }}</title>
    <link rel="canonical" href="{{ meta.canonical }}">
    <meta name="robots" content="index,follow">
    <meta name="author" content="LinkHash">
    <meta name="description" content="{{ meta.description }}">
    <!-- OG -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="LinkHash">
    <meta property="og:title" content="{{ meta.og_title }}">
    <meta property="og:description" content="{{ meta.og_description }}">
    <meta property="og:url" content="{{ meta.url }}">
    <meta property="og:image" content="{% static 'img/og-cover.png' %}">
    <!-- Favicons -->
    <link rel="icon" href="{% static 'img/favicon.ico' %}">
    <style>
      /* ===== THEME (match rewards pages) ===== */
      :root{
        --bg:#0a0b0d;
        --bg-elev:#0f1115;
        --panel:#11141a;
        --panel-2:#0e1318;
        --grid:#0b0f13;
        --line:#1a212d;
        --text:#e6f1ee;
        --muted:#9fb0aa;
        --green:#16a34a;
        --green-2:#23d16a;
        --glow:0 0 22px rgba(22,163,74,.35), 0 0 48px rgba(22,163,74,.15);
        --radius:16px;
        --shadow-lg:0 40px 80px rgba(0,0,0,.55), inset 0 -1px 0 rgba(255,255,255,.03);
        --shadow-md:0 16px 40px rgba(0,0,0,.45);
        --noise:transparent url('data:image/svg+xml;utf8,\
          <svg xmlns="http://www.w3.org/2000/svg" width=\"120\" height=\"120\" viewBox=\"0 0 120 120\">\
          <filter id=\"n\"><feTurbulence type=\"fractalNoise\" baseFrequency=\"0.9\" numOctaves=\"2\" stitchTiles=\"stitch\"/></filter>\
          <rect width=\"120\" height=\"120\" filter=\"url(%23n)\" opacity=\".04\"/></svg>') repeat;
      }
      *{box-sizing:border-box}
      html,body{height:100%}
      body{
        margin:0; color:var(--text);
        background:
          radial-gradient(80rem 60rem at 90% -10%, rgba(22,163,74,.12), transparent 60%),
          radial-gradient(60rem 40rem at -20% 20%, rgba(35,209,106,.08), transparent 60%),
          linear-gradient(180deg, #08090b, #0a0b0d 20%, #090c10);
        font-family: ui-sans-serif, "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Apple SD Gothic Neo", "Noto Sans KR", Arial, sans-serif;
        letter-spacing:.2px;
        background-attachment: fixed;
      }
      a{color:inherit;text-decoration:none}
      .container{width:1200px; margin:0 auto; padding:0 20px;}

      /* ===== NAV (sticky, blurred) ===== */
      .nav{
        position:sticky; top:0; z-index:60;
        backdrop-filter: blur(10px);
        background:linear-gradient(180deg, rgba(15,17,21,.65), rgba(15,17,21,.35));
        border-bottom:1px solid rgba(255,255,255,.06);
      }
      .nav .row{display:flex; align-items:center; justify-content:space-between; height:72px;}
      .brand{
        display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.4px;
        color:#d8ffe7;
        text-shadow:0 0 18px rgba(35,209,106,.24);
      }
      .brand .dot{width:10px;height:10px;border-radius:999px;background:var(--green);box-shadow:var(--glow)}
      .links{display:flex; gap:24px; align-items:center;}
      .links a{color:#cfe7dd; opacity:.9}
      .links a:hover{color:#fff; text-shadow:0 0 12px rgba(35,209,106,.25)}
      .btn{display:inline-flex; align-items:center; gap:10px; padding:12px 16px; font-weight:700; border-radius:12px; background:linear-gradient(180deg,#19b357,#119e49); color:#05160c; box-shadow:var(--glow); border:1px solid #2fe07a}
      .btn-outline{padding:10px 14px; border-radius:12px; border:1px solid #2a333f; background: rgba(14,18,25,.6); color:#d9f6e6}
      .lang{display:flex; gap:10px; align-items:center;}
      .lang a{padding:8px 10px; border:1px solid #2a333f; border-radius:10px; color:#cfe7dd}
      .lang a.active{border-color:#2fe07a; color:#eafff4; box-shadow:var(--glow)}

      /* ===== PAGE HEADER ===== */
      .page-head{
        padding:50px 0 10px;
        background:linear-gradient(180deg, rgba(12,16,20,.65), rgba(10,12,16,.35)), var(--noise);
        border-bottom:1px solid rgba(255,255,255,.06);
      }
      .page-head h1{margin:0 0 10px; font-size:36px; letter-spacing:.3px;}
      .page-head .sub{color:var(--muted); margin:0}

      /* ===== LAYOUT ===== */
      .board{
        display:grid; grid-template-columns:2fr 1fr; gap:18px; padding:22px 0 36px;
      }

      /* ===== CARDS ===== */
      .card{
        background:linear-gradient(180deg, #0f1419, #0c1116);
        border:1px solid rgba(255,255,255,.06);
        border-radius:18px;
        box-shadow:var(--shadow-md);
        padding:16px;
      }

      /* Post item */
      .post{
        position:relative;
        display:grid; grid-template-columns:200px 1fr; gap:16px;
        border:1px solid rgba(255,255,255,.06);
        border-radius:16px; padding:12px;
        background:linear-gradient(180deg, #0d1217, #0b0f14);
        transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
        overflow:hidden;
      }
      .post::after{
        content:""; position:absolute; inset:-20%; pointer-events:none; opacity:0;
        background:radial-gradient(70% 60% at 30% 0%, rgba(35,209,106,.14), transparent 60%);
        transition:opacity .2s ease;
      }
      .post:hover{
        transform:translateY(-3px) scale(1.02);
        border-color:rgba(35,209,106,.35);
        box-shadow:0 40px 80px rgba(22,163,74,.18), var(--shadow-md);
      }
      .post:hover::after{ opacity:1; }

      .thumb{
        width:100%; height:180px; border-radius:14px; border:1px solid #1d2836;
        background:#0b1117; overflow:hidden;
      }
      .thumb img{width:100%; height:100%; object-fit:contain; display:block; background:#0b1117}

      .title{font-size:18px; font-weight:800; margin:0 0 6px}
      .meta{font-size:12px; color:var(--muted); margin:6px 0 10px}

      .tags{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
      .tag{
        display:inline-flex; align-items:center; gap:6px; padding:6px 10px;
        border:1px solid #1d2836; background:#0b1218; border-radius:999px; font-size:12px; color:#cde6da; font-weight:700;
      }

      .rule{
        margin-top:12px; padding:12px; border:1px solid #1d2836;
        background:#0b1218; border-radius:12px; color:#cfe7dd; font-size:13px;
      }
      .rule strong{font-weight:800; color:#eafff4}

      /* Aside card (notes) */
      .aside h3{margin:0 0 10px; font-size:18px}
      .aside .muted{color:var(--muted); margin:0}

      /* Footer */
      .footer{padding:28px 0; border-top:1px solid rgba(255,255,255,.06); color:#a7b9b1; background:#0a0c10;}

      /* Responsive (desktop-first) */
      @media (max-width:1140px){ .container{width:1000px} }
      @media (max-width:1000px){
        .container{width:920px}
        .board{grid-template-columns:1fr}
        .post{grid-template-columns:160px 1fr}
        .thumb{height:140px}
      }
      @media (max-width:680px){
        .post{grid-template-columns:1fr}
        .thumb{height:180px}
      }
    </style>
  </head>
  <body>
    <!-- ===== NAV ===== -->
    <header class="nav">
      <div class="container row">
        <div class="brand">
          <span class="dot"></span>
          <span>LinkHash</span>
        </div>
        <nav class="links">
          {% if meta.lang == "ko" %}
            {% url 'home_ko' as home_url %}{% url 'events_ko' as events_url %}{% url 'rewards_ko' as rewards_url %}
          {% elif meta.lang == "ja" %}
            {% url 'home_en' as home_url %}{% url 'events_ja' as events_url %}{% url 'rewards_en' as rewards_url %}
          {% elif meta.lang == "zh" %}
            {% url 'home_en' as home_url %}{% url 'events_zh' as events_url %}{% url 'rewards_en' as rewards_url %}
          {% else %}
            {% url 'home_en' as home_url %}{% url 'events_en' as events_url %}{% url 'rewards_en' as rewards_url %}
          {% endif %}
          <a href="{{ home_url }}">{% if meta.lang == 'ko' %}í™ˆ{% elif meta.lang == 'ja' %}ãƒ›ãƒ¼ãƒ {% elif meta.lang == 'zh' %}é¦–é¡µ{% else %}Home{% endif %}</a>
          <a href="{{ rewards_url }}">{% if meta.lang == 'ko' %}ë¦¬ì›Œë“œ{% elif meta.lang == 'ja' %}ãƒªãƒ¯ãƒ¼ãƒ‰{% elif meta.lang == 'zh' %}å¥–åŠ±{% else %}Rewards{% endif %}</a>
          <a href="{{ events_url }}" style="font-weight:700;color:#d8ffe7">{% if meta.lang == 'ko' %}ì´ë²¤íŠ¸{% elif meta.lang == 'ja' %}ã‚¤ãƒ™ãƒ³ãƒˆ{% elif meta.lang == 'zh' %}æ´»åŠ¨{% else %}Events{% endif %}</a>
          <a href="/leaderboard/">{% if meta.lang == 'ko' %}ë¦¬ë”ë³´ë“œ{% elif meta.lang == 'ja' %}ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰{% elif meta.lang == 'zh' %}æ’è¡Œæ¦œ{% else %}Leaderboard{% endif %}</a>
          {% if wallet_user %}
            <span class="btn-outline">ğŸ‘› {{ wallet_user.address|slice:":6" }}â€¦{{ wallet_user.address|slice:"-4:" }}</span>
            <a class="btn" href="#" onclick="logoutWallet && logoutWallet();return false;">{% if meta.lang == 'ko' %}ëŒ€ì‹œë³´ë“œ{% elif meta.lang == 'ja' %}ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰{% elif meta.lang == 'zh' %}ä»ªè¡¨ç›˜{% else %}Dashboard{% endif %}</a>
          {% else %}
            <a class="btn" href="#" onclick="connectWallet && connectWallet();return false;">{% if meta.lang == 'ko' %}ì§€ê°‘ ì—°ê²°{% elif meta.lang == 'ja' %}ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶š{% elif meta.lang == 'zh' %}è¿æ¥é’±åŒ…{% else %}Connect Wallet{% endif %}</a>
          {% endif %}
        </nav>
        <div class="lang">
          <a {% if meta.lang == "en" %}class="active"{% endif %} href="{% url 'events_en' %}">ğŸ‡ºğŸ‡¸ English</a>
          <a {% if meta.lang == "ko" %}class="active"{% endif %} href="{% url 'events_ko' %}">ğŸ‡°ğŸ‡· í•œêµ­ì–´</a>
          <a {% if meta.lang == "ja" %}class="active"{% endif %} href="{% url 'events_ja' %}">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</a>
          <a {% if meta.lang == "zh" %}class="active"{% endif %} href="{% url 'events_zh' %}">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</a>
        </div>
      </div>
    </header>

    <!-- ===== PAGE HEADER ===== -->
    <section class="page-head">
      <div class="container">
        <h1>
          {% if meta.lang == 'ko' %}ì´ë²¤íŠ¸ & ê³µì§€{% elif meta.lang == 'ja' %}ã‚¤ãƒ™ãƒ³ãƒˆ & ãŠçŸ¥ã‚‰ã›{% elif meta.lang == 'zh' %}æ´»åŠ¨ä¸å…¬å‘Š{% else %}Events & Announcements{% endif %}
        </h1>
        <p class="sub">
          {% if meta.lang == 'ko' %}ìµœì‹  ì´ë²¤íŠ¸ì™€ ê³µì§€ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”.{% elif meta.lang == 'ja' %}æœ€æ–°ã®ã‚¤ãƒ™ãƒ³ãƒˆã¨ãŠçŸ¥ã‚‰ã›ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚{% elif meta.lang == 'zh' %}æŸ¥çœ‹æœ€æ–°æ´»åŠ¨ä¸å…¬å‘Šã€‚{% else %}Check out our latest announcements and community events.{% endif %}
        </p>
      </div>
    </section>

    <!-- ===== BOARD ===== -->
    <main class="container board">
      <!-- LEFT: Posts list -->
      <section class="card">
        {% if events and events|length > 0 %}
          {% for ev in events %}
            <article class="post" {% if not forloop.first %}style="margin-top:16px"{% endif %}>
              <div class="thumb">
                {% if ev.thumb_src %}
                  <img src="{{ ev.thumb_src }}" alt="{{ ev.title|escape }}">
                {% else %}
                  <img src="{% static 'img/og-cover.png' %}" alt="{{ ev.title|escape }}">
                {% endif %}
              </div>
              <div class="content">
                <h3 class="title">{{ ev.title }}</h3>
                <p class="meta">
                  {% if meta.lang == 'ko' %}ê³µì§€ ë‚ ì§œ{% elif meta.lang == 'ja' %}æ²è¼‰æ—¥{% elif meta.lang == 'zh' %}å‘å¸ƒæ—¶é—´{% else %}Posted on{% endif %}:
                  {{ ev.posted_at|date:"Y-m-d" }}
                </p>
                {% if ev.summary %}
                  <p>{{ ev.summary|linebreaksbr }}</p>
                {% endif %}
                {% if ev.body %}
                  <div class="rule">{{ ev.body|safe }}</div>
                {% endif %}
              </div>
            </article>
          {% endfor %}
        {% else %}
          <p class="muted" style="margin:0">
            {% if meta.lang == 'ko' %}ì•„ì§ ë“±ë¡ëœ ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.{% elif meta.lang == 'ja' %}ã‚¤ãƒ™ãƒ³ãƒˆã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚{% elif meta.lang == 'zh' %}ç›®å‰è¿˜æ²¡æœ‰æ´»åŠ¨ã€‚{% else %}No events yet.{% endif %}
          </p>
        {% endif %}
      </section>

      <!-- RIGHT: Notes -->
      <aside class="card aside">
        <h3>{% if meta.lang == 'ko' %}ì•ˆë‚´{% elif meta.lang == 'ja' %}ã”æ¡ˆå†…{% elif meta.lang == 'zh' %}è¯´æ˜{% else %}Notes{% endif %}</h3>
        <p class="muted">
          {% if meta.lang == 'ko' %}
            ì—ì–´ë“œëì€ ê³¼ì œ ê²€ìˆ˜ í›„ ìˆœì°¨ ì§€ê¸‰ë©ë‹ˆë‹¤. ë´‡/ì¤‘ë³µ ì°¸ì—¬ëŠ” ì œì™¸ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          {% elif meta.lang == 'ja' %}
            ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã¯å¯©æŸ»å¾Œã«é †æ¬¡é…å¸ƒã•ã‚Œã¾ã™ã€‚ä¸æ­£ã‚„é‡è¤‡ã¯ç„¡åŠ¹ã¨ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚
          {% elif meta.lang == 'zh' %}
            ç©ºæŠ•å°†åœ¨å®¡æ ¸åé™†ç»­å‘æ”¾ã€‚æœºå™¨äºº/é‡å¤å‚ä¸å¯èƒ½ä¼šè¢«å‰”é™¤ã€‚
          {% else %}
            Airdrops are distributed after review. Bot/duplicate entries may be excluded.
          {% endif %}
        </p>
        <div style="margin-top:14px; display:flex; gap:10px;">
          <a class="btn" href="{% url 'rewards_en' %}">
            {% if meta.lang == 'ko' %}ë¦¬ì›Œë“œ í”„ë¡œê·¸ë¨ ë°”ë¡œê°€ê¸°{% elif meta.lang == 'ja' %}ãƒªãƒ¯ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹{% elif meta.lang == 'zh' %}å‰å¾€å¥–åŠ±è®¡åˆ’{% else %}Go to Rewards Program{% endif %}
          </a>
          <a class="btn-outline" href="/rewards/apply/">
            {% if meta.lang == 'ko' %}ìº í˜ì¸ ì‹ ì²­{% elif meta.lang == 'ja' %}ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç”³è«‹{% elif meta.lang == 'zh' %}ç”³è¯·æ´»åŠ¨{% else %}Apply for a Campaign{% endif %}
          </a>
        </div>
      </aside>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="footer">
      <div class="container" style="display:flex; align-items:center; justify-content:space-between;">
        <div>Â© <strong>LinkHash</strong></div>
        <div style="opacity:.7">White-hat backlinks Â· Transparent rewards</div>
      </div>
    </footer>
  </body>
</html>
