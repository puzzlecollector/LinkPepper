<!doctype html>
{% load static %}
<html lang="{{ meta.lang|default:'en' }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
        <title>{{ meta.title|default:"LinkHash | Campaign" }}</title>
        <link rel="canonical" href="{{ meta.canonical|default:meta.url }}">
        <meta name="robots" content="index,follow">
        <meta name="author" content="LinkHash">
        <meta name="description" content="{{ meta.description|default:'White-hat campaign with transparent rewards.' }}">
        <!-- OG/Twitter -->
        <meta property="og:type" content="website">
        <meta property="og:site_name" content="LinkHash">
        <meta property="og:title" content="{{ meta.og_title|default:meta.title }}">
        <meta property="og:description" content="{{ meta.og_description|default:meta.description }}">
        <meta property="og:url" content="{{ meta.url }}">
        <meta property="og:image" content="{% static 'img/og-cover.png' %}">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="{{ meta.og_title|default:meta.title }}">
        <meta name="twitter:description" content="{{ meta.og_description|default:meta.description }}">
        <meta name="twitter:image" content="{% static 'img/twitter-card.png' %}">
        <!-- Favicons -->
        <link rel="icon" href="{% static 'img/favicon.ico' %}">
        <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/apple-touch-icon.png' %}">
        <style>
      :root{
        --bg:#0a0b0d; --bg-elev:#0f1115; --panel:#11141a; --panel-2:#0e1318; --grid:#0b0f13; --line:#1a212d;
        --text:#e6f1ee; --muted:#9fb0aa; --green:#16a34a; --green-2:#23d16a;
        --glow:0 0 22px rgba(22,163,74,.35), 0 0 48px rgba(22,163,74,.15);
        --radius:16px; --shadow-lg:0 30px 60px rgba(0,0,0,.55), inset 0 -1px 0 rgba(255,255,255,.03);
        --shadow-md:0 14px 34px rgba(0,0,0,.45);
        --noise:transparent url('data:image/svg+xml;utf8,\
          <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120">\
            <filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter>\
            <rect width="120" height="120" filter="url(%23n)" opacity=".04"/></svg>') repeat;
        --container:clamp(320px, 92vw, 860px);
      }
      *{box-sizing:border-box}
      html,body{height:100%}
      body{
        margin:0; color:var(--text);
        background:
          radial-gradient(40rem 30rem at 90% -10%, rgba(22,163,74,.12), transparent 60%),
          radial-gradient(30rem 20rem at -20% 20%, rgba(35,209,106,.08), transparent 60%),
          linear-gradient(180deg, #08090b, #0a0b0d 20%, #090c10);
        font-family: ui-sans-serif, "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                     "Apple SD Gothic Neo", "Noto Sans KR", "Noto Sans JP", "Noto Sans SC", Arial, sans-serif;
        letter-spacing:.2px; background-attachment: fixed;
      }
      a{color:inherit;text-decoration:none}
      .container{width:var(--container); margin:0 auto; padding:0 10px;}

      /* NAV (compact) */
      .nav{ position:sticky; top:0; z-index:60; backdrop-filter: blur(12px);
        background:linear-gradient(180deg, rgba(15,17,21,.75), rgba(15,17,21,.45));
        border-bottom:1px solid rgba(255,255,255,.06);
      }
      .nav .row{display:flex; align-items:center; justify-content:space-between; height:64px; gap:10px;}
      .brand{display:flex; align-items:center; gap:8px; font-weight:800; color:#d8ffe7; text-shadow:0 0 18px rgba(35,209,106,.24);}
      .brand .dot{width:8px;height:8px;border-radius:999px;background:var(--green);box-shadow:var(--glow)}
      .links{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end}
      .link-min{padding:8px 10px; border-radius:10px; border:1px solid #2a333f; background: rgba(14,18,25,.6); color:#d9f6e6; font-weight:800; font-size:12px}
      .btn{display:inline-flex; align-items:center; gap:8px; padding:10px 12px; font-weight:800; border-radius:12px; background:linear-gradient(180deg,#19b357,#119e49); color:#05160c; box-shadow:var(--glow); border:1px solid #2fe07a; font-size:13px}
      .btn-outline{padding:8px 10px; border-radius:10px; border:1px solid #2a333f; background: rgba(14,18,25,.6); color:#d9f6e6; font-weight:700; font-size:12px}
      .pill-addr{max-width:140px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap}

      /* Language dropdown */
      .lang{ position:relative;}
      .lang-btn{
        display:inline-flex; align-items:center; gap:8px; padding:8px 10px; font-weight:800; border-radius:10px;
        border:1px solid #2a333f; background: rgba(14,18,25,.6); color:#d9f6e6; cursor:pointer; font-size:12px
      }
      .lang-btn:hover{ border-color:rgba(35,209,106,.35); box-shadow:0 0 16px rgba(35,209,106,.18) }
      .lang-menu{
        position:absolute; top:110%; right:0; width:210px; background:linear-gradient(180deg, #0f1419, #0c1116);
        border:1px solid rgba(255,255,255,.08); border-radius:12px; box-shadow:0 20px 40px rgba(0,0,0,.45);
        padding:6px; display:none; z-index:70;
      }
      .lang.open .lang-menu{ display:block; animation:menuIn .14s ease-out }
      @keyframes menuIn{ from{ transform:translateY(-6px); opacity:0 } to{ transform:translateY(0); opacity:1 } }
      .lang-item{display:flex; align-items:center; gap:10px; padding:10px 10px; border-radius:10px; cursor:pointer; color:#cfe7dd; font-weight:700;}
      .lang-item:hover{ background:#0b1218; border:1px solid #1d2836 }
      .flag-emoji{
        display:inline-flex; align-items:center; justify-content:center; width:18px; height:18px; font-size:14px; border-radius:3px;
        background:rgba(255,255,255,.06); box-shadow:inset 0 0 0 1px rgba(255,255,255,.08);
      }

      /* PAGE HEADER */
      .page-head{
        padding:28px 0 10px;
        background:linear-gradient(180deg, rgba(12,16,20,.65), rgba(10,12,16,.35)), var(--noise);
        border-bottom:1px solid rgba(255,255,255,.06);
      }
      .title h1{margin:0 0 6px; font-size:24px;}
      .title .sub{margin:0; color:var(--muted); font-size:14px}
      .facts{display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin-top:10px;}
      .fact{display:inline-flex; gap:8px; align-items:center; padding:6px 10px; border-radius:10px; background:#0b1218; border:1px solid #1d2836; color:#cde6da; font-weight:700; font-size:12px;}
      .status-open{ color:#aef2c9; border-color:#2a6f47; }
      .status-closed{ color:#ffbdbd; border-color:#5a2a2a; }

      /* MAIN */
      .main{display:grid; grid-template-columns:1fr; gap:12px; padding:14px 0;}
      .hero-card{background:linear-gradient(180deg, #0f1419, #0c1116); border:1px solid rgba(255,255,255,.06); border-radius:16px; overflow:hidden; box-shadow:var(--shadow-lg);}
      .hero-img{height:220px; background:#0b1117; overflow:hidden;}
      .hero-img img{width:100%; height:100%; object-fit:cover; display:block; opacity:.95; transform:scale(1.02)}
      .hero-body{padding:14px;}
      .hero-body p{margin:0; color:#b9c9c3; font-size:14px}

      .side{background:linear-gradient(180deg, #0f1419, #0c1116); border:1px solid rgba(255,255,255,.06); border-radius:16px; padding:14px; box-shadow:var(--shadow-md); display:flex; flex-direction:column; gap:8px;}
      .side .row{display:flex; justify-content:space-between; gap:8px; font-size:13px; color:#cde6da;}
      .side .label{color:#9fb0aa}
      .progress{height:8px; background:#0b1218; border:1px solid #1d2836; border-radius:999px; overflow:hidden}
      .progress .bar{height:100%; width:0; background:linear-gradient(90deg,#19b357,#23d16a); box-shadow:var(--glow)}
      .cta{display:flex; gap:10px; margin-top:6px; justify-content:flex-end}

      /* TABS */
      .section{margin-top:12px;}
      .tabs{display:flex; gap:8px; margin:10px 0 12px;}
      .tab{
        padding:10px 14px; border-radius:999px; border:1px solid #2a333f;
        background:linear-gradient(180deg, rgba(14,18,25,.85), rgba(14,18,25,.55));
        color:#cfe7dd; font-weight:800; cursor:pointer; letter-spacing:.2px; font-size:13px;
        transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
      }
      .tab:hover{ transform:translateY(-2px); border-color:rgba(35,209,106,.35); box-shadow:0 14px 30px rgba(22,163,74,.18) }
      .tab.active{
        border-color:#2fe07a; color:#05160c; background:linear-gradient(180deg,#19b357,#119e49); box-shadow:var(--glow);
        transform:translateY(-1px);
      }
      .panel{display:none;}
      .panel.active{display:block;}

      /* FORMS */
      form .row{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px;}
      form .row:last-child{margin-bottom:0}
      input[type="text"], input[type="url"], textarea, select{
        width:100%; padding:12px 14px; border:1px solid #2a333f; border-radius:12px; background:#0b1117; color:#e6f1ee; font-size:14px;
      }
      textarea{min-height:110px}
      .note{color:#9fb0aa; font-size:13px}
      .note.important{border:1px solid #2fe07a33; background:#0b1218; padding:12px; border-radius:12px; color:#cfe7dd}

      /* Instruction + favicon row */
      .note-row{ display:flex; gap:10px; align-items:stretch; margin-bottom:10px; }
      .note-row .instr{ flex:1 1 auto; }
      .note-row .favibox{
        flex:0 0 110px; border:1px solid #1d2836; background:#0b1218; border-radius:12px; display:flex; align-items:center; justify-content:center;
        box-shadow:inset 0 0 0 1px rgba(255,255,255,.03); padding:8px;
      }
      .note-row .favibox img{ max-width:100%; max-height:100%; display:block; }
      @media (max-width: 720px){
        .note-row{ flex-direction:column; }
        .note-row .favibox{ height:80px; }
      }

      /* Select */
      .select-wrap{position:relative; min-width:220px; width:100%;}
      .select-wrap select{appearance:none; -webkit-appearance:none; -moz-appearance:none; padding-right:38px;}
      .select-wrap .chev{
        pointer-events:none; position:absolute; right:12px; top:50%; transform:translateY(-50%);
        width:16px; height:16px; opacity:.8;
      }

      /* Examples */
      .scroller{max-height:240px; overflow:auto; padding-right:6px;}
      .example{border:1px dashed #243040; border-radius:12px; padding:10px; margin-bottom:8px; background:#0a1117;}
      .example .meta{display:flex; gap:8px; flex-wrap:wrap; font-size:12px; color:#8aa099;}
      .example .meta .addr{ overflow-wrap:anywhere; word-break:break-word; }
            /* ===== MOBILE HEADER (namespaced .mnav) ===== */
.mnav{position:sticky; top:0; z-index:80; padding-top:env(safe-area-inset-top);
  background:linear-gradient(180deg, rgba(15,17,21,.82), rgba(15,17,21,.52));
  backdrop-filter: blur(12px); border-bottom:1px solid rgba(255,255,255,.06);}
.mnav-bar{display:flex; align-items:center; justify-content:space-between; height:56px; gap:8px;}

.mnav-brand{display:inline-flex; align-items:center; gap:8px; font-weight:800; color:#d8ffe7; text-shadow:0 0 14px rgba(35,209,106,.22);}
.mnav-brand .dot{width:8px;height:8px;border-radius:999px;background:#16a34a;box-shadow:0 0 16px rgba(22,163,74,.42)}
.mnav-brand .name{font-size:16px; letter-spacing:.2px}

.mnav-actions{display:flex; align-items:center; gap:8px;}
.mnav .btn{display:inline-flex; align-items:center; gap:6px; padding:8px 10px; font-weight:800; border-radius:10px; border:1px solid #2fe07a;
  background:linear-gradient(180deg,#19b357,#119e49); color:#05160c; box-shadow:0 0 22px rgba(22,163,74,.25);}
.mnav .pill-addr{max-width:130px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; border:1px solid #2a333f; background:#0b1117;
  color:#d9f6e6; border-radius:999px; padding:6px 10px; font-size:12px; font-weight:700;}

.mnav-toggle{display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius:10px;
  border:1px solid #2a333f; background:#0b1117; color:#e6f1ee;}
.mnav-toggle:active{transform:scale(.98)}

/* Sheet */
.mnav-sheet{position:relative; background:linear-gradient(180deg,#0f1419,#0c1116);
  border-top:1px solid rgba(255,255,255,.06); box-shadow:0 30px 60px rgba(0,0,0,.5);
  padding:12px 12px calc(12px + env(safe-area-inset-bottom));}
.mnav-sheet[hidden]{display:none;}
.mnav-list{display:grid; gap:8px; margin:4px 0 10px;}
.mnav-list .item{display:flex; align-items:center; gap:8px; padding:12px 12px; border-radius:12px; font-weight:800;
  border:1px solid #263040; background:rgba(14,18,25,.65); color:#cfe7dd;}
.mnav-list .item:hover{border-color:rgba(35,209,106,.35); box-shadow:0 0 16px rgba(35,209,106,.18)}
.mnav-list .item.active{color:#05160c; border-color:#2fe07a; background:linear-gradient(180deg,#19b357,#119e49); box-shadow:0 0 22px rgba(22,163,74,.25)}
.mnav-list .item.outline{background:#0b1117}

/* Language */
.mnav-lang{margin:2px 0 10px; position:relative;}
.mnav .lang-btn{display:inline-flex; align-items:center; gap:8px; padding:10px 12px; font-weight:800; border-radius:12px; border:1px solid #2a333f; background:#0b1117; color:#cfe7dd}
.mnav .flag-emoji{display:inline-flex; align-items:center; justify-content:center; width:18px; height:18px; line-height:18px; font-size:14px; border-radius:3px;
  background:rgba(255,255,255,.06); box-shadow:inset 0 0 0 1px rgba(255,255,255,.08);}
.mnav .lang-menu{position:absolute; top:110%; left:0; min-width:200px; padding:6px; margin:0; list-style:none; display:none; z-index:90;
  background:linear-gradient(180deg,#0f1419,#0c1116); border:1px solid rgba(255,255,255,.08); border-radius:12px; box-shadow:0 20px 40px rgba(0,0,0,.45)}
.mnav .lang.open .lang-menu{display:block; animation:mnavMenuIn .14s ease-out}
@keyframes mnavMenuIn{from{transform:translateY(-6px);opacity:0} to{transform:translateY(0);opacity:1}}
.mnav .lang-item{display:flex; align-items:center; gap:10px; padding:10px; border-radius:10px; cursor:pointer; color:#cfe7dd; font-weight:700;}
.mnav .lang-item:hover{ background:#0b1218; border:1px solid #1d2836 }

/* Logout button inside sheet */
.mnav .danger{width:100%; margin-top:6px; padding:11px 12px; border-radius:12px; border:1px solid #3b2020;
  background:linear-gradient(180deg,#6e2c2c,#5a2222); color:#ffeaea; font-weight:800}

/* Ultra-narrow friendliness (Galaxy Fold cover width ~320px) */
@media (max-width:360px){
  .mnav .pill-addr{max-width:98px}
  .mnav-bar{height:52px}
  .mnav-brand .name{font-size:15px}
}

/* Large-fold (unfolded) still uses mobile header but breathes a bit */
@media (min-width:720px){
  .mnav-bar{height:60px}
}

/* Rich-text container */
.rt{overflow-wrap:anywhere; word-break:break-word}

/* Make editor images responsive even if CKEditor set inline sizes */
.rt img{
  max-width:100% !important;
  height:auto !important;
  display:block;
}

/* Safety for tables & embeds */
.rt table{display:block; max-width:100%; overflow-x:auto; border-collapse:collapse}
.rt iframe,.rt video{max-width:100%; height:auto}

      /* Footer */
      .footer{padding:18px 0 24px; border-top:1px solid rgba(255,255,255,.06); color:#a7b9b1; background:#0a0c10; font-size:12px; margin-top:18px}
        </style>
    </head>
    <body>
        <!-- NAV -->
        <!-- ===== MOBILE HEADER (copy/paste) ===== -->
        <header class="mnav" role="banner">
            <div class="container mnav-bar">
                <a href="{% if meta.lang == 'ko' %}/ko/{% elif meta.lang == 'ja' %}/ja/{% elif meta.lang == 'zh' %}/zh/{% else %}/{% endif %}" class="mnav-brand" aria-label="LinkHash Home">
                    <span class="dot" aria-hidden="true"></span>
                    <span class="name">LinkHash</span>
                </a>
                <div class="mnav-actions">
                    {% if wallet_user %}
                    <span class="pill-addr" title="{{ wallet_user.address }}">ğŸ‘› {{ wallet_user.address|slice:":6" }}â€¦{{ wallet_user.address|slice:"-4:" }}</span>
                    {% else %}
                    <button class="btn" type="button" onclick="(window.connectWallet||(()=>alert('Wallet script missing')))()">
                        {% if meta.lang == 'ko' %}ì§€ê°‘{% elif meta.lang == 'ja' %}ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ{% elif meta.lang == 'zh' %}é’±åŒ…{% else %}Wallet{% endif %}
                    </button>
                    {% endif %}
                    <button
                        class="mnav-toggle"
                        id="mnavToggle"
                        type="button"
                        aria-controls="mnavSheet"
                        aria-expanded="false"
                        aria-label="Menu"
                    >
                        <svg
                            viewBox="0 0 24 24"
                            width="22"
                            height="22"
                            aria-hidden="true"
                        >
                            <path
                                d="M4 6h16M4 12h16M4 18h16"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                            />
                        </svg>
                    </button>
                </div>
            </div>
            <!-- Slide-down sheet -->
            <div class="mnav-sheet" id="mnavSheet" hidden>
                <nav class="mnav-list" aria-label="Primary">
                    <a class="item" href="{% if meta.lang == 'ko' %}/ko/{% elif meta.lang == 'ja' %}/ja/{% elif meta.lang == 'zh' %}/zh/{% else %}/{% endif %}">
                        ğŸ  {% if meta.lang == 'ko' %}í™ˆ{% elif meta.lang == 'ja' %}ãƒ›ãƒ¼ãƒ {% elif meta.lang == 'zh' %}ä¸»é¡µ{% else %}Home{% endif %}
                    </a>
                    <a class="item active" href="{% if meta.lang == 'ko' %}/ko/rewards/{% elif meta.lang == 'ja' %}/ja/rewards/{% elif meta.lang == 'zh' %}/zh/rewards/{% else %}/rewards/{% endif %}">
                        ğŸ {% if meta.lang == 'ko' %}ë¦¬ì›Œë“œ{% elif meta.lang == 'ja' %}ãƒªãƒ¯ãƒ¼ãƒ‰{% elif meta.lang == 'zh' %}å¥–åŠ±{% else %}Rewards{% endif %}
                    </a>
                    <a class="item" href="{% if meta.lang == 'ko' %}/ko/events/{% elif meta.lang == 'ja' %}/ja/events/{% elif meta.lang == 'zh' %}/zh/events/{% else %}/events/{% endif %}">
                        ğŸ“£ {% if meta.lang == 'ko' %}ì´ë²¤íŠ¸{% elif meta.lang == 'ja' %}ã‚¤ãƒ™ãƒ³ãƒˆ{% elif meta.lang == 'zh' %}æ´»åŠ¨{% else %}Events{% endif %}
                    </a>
                    <a class="item" href="{% if meta.lang == 'ko' %}/ko/leaderboard/{% elif meta.lang == 'ja' %}/ja/leaderboard/{% elif meta.lang == 'zh' %}/zh/leaderboard/{% else %}/leaderboard/{% endif %}">
                        ğŸ† {% if meta.lang == 'ko' %}ë¦¬ë”ë³´ë“œ{% elif meta.lang == 'ja' %}ãƒªãƒ¼ãƒ€ãƒ¼ãƒœãƒ¼ãƒ‰{% elif meta.lang == 'zh' %}æ’è¡Œæ¦œ{% else %}Leaderboard{% endif %}
                    </a>
                    <a class="item outline" href="{% if meta.lang == 'ko' %}/rewards/apply/ko/{% elif meta.lang == 'ja' %}/rewards/apply/ja/{% elif meta.lang == 'zh' %}/rewards/apply/zh/{% else %}/rewards/apply/{% endif %}">
                        ğŸ“ {% if meta.lang == 'ko' %}ìº í˜ì¸ ì‹ ì²­{% elif meta.lang == 'ja' %}ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ç”³è«‹{% elif meta.lang == 'zh' %}ç”³è¯·å‘èµ·æ´»åŠ¨{% else %}Apply for campaign{% endif %}
                    </a>
                </nav>
                <!-- Language switcher -->
                <div class="mnav-lang" id="langSwitcher" data-current="{{ meta.lang|default:'en' }}">
                    <button
                        class="lang-btn"
                        type="button"
                        aria-haspopup="listbox"
                        aria-expanded="false"
                    >
                        <span class="flag-emoji" aria-hidden="true"></span>
                        <span class="label">
                            {% if meta.lang == 'ko' %}í•œêµ­ì–´{% elif meta.lang == 'ja' %}æ—¥æœ¬èª{% elif meta.lang == 'zh' %}ä¸­æ–‡{% else %}English{% endif %}
                        </span>
                        <svg
                            class="chev"
                            viewBox="0 0 20 20"
                            width="14"
                            height="14"
                            aria-hidden="true"
                        >
                            <path
                                d="M5 7l5 6 5-6"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                            />
                        </svg>
                    </button>
                    <ul
                        class="lang-menu"
                        role="listbox"
                        tabindex="-1"
                        aria-label="Select language"
                    >
                        <li
                            class="lang-item"
                            role="option"
                            data-lang="en"
                            data-flag="ğŸ‡ºğŸ‡¸"
                        >ğŸ‡ºğŸ‡¸ English</li>
                        <li
                            class="lang-item"
                            role="option"
                            data-lang="ko"
                            data-flag="ğŸ‡°ğŸ‡·"
                        >ğŸ‡°ğŸ‡· í•œêµ­ì–´</li>
                        <li
                            class="lang-item"
                            role="option"
                            data-lang="ja"
                            data-flag="ğŸ‡¯ğŸ‡µ"
                        >ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</li>
                        <li
                            class="lang-item"
                            role="option"
                            data-lang="zh"
                            data-flag="ğŸ‡¨ğŸ‡³"
                        >ğŸ‡¨ğŸ‡³ ä¸­æ–‡</li>
                    </ul>
                </div>
                {% if wallet_user %}
                <button class="danger" type="button" onclick="(window.logoutWallet||(()=>alert('Wallet script missing')))()">
                    {% if meta.lang == 'ko' %}ë¡œê·¸ì•„ì›ƒ{% elif meta.lang == 'ja' %}ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ{% elif meta.lang == 'zh' %}é€€å‡º{% else %}Logout{% endif %}
                </button>
                {% endif %}
            </div>
        </header>
        <!-- PAGE HEADER -->
        <section class="page-head">
            <div class="container">
                <div class="title">
                    <h1>{{ campaign.title }}</h1>
                    <p class="sub">
                        {% if meta.lang == 'ko' %}
              {{ campaign.summary|default:"íˆ¬ëª…í•œ í™”ì´íŠ¸í–‡ ê³¼ì œì™€ ì¦‰ì‹œ ë³´ìƒ." }}
            {% elif meta.lang == 'ja' %}
              {{ campaign.summary|default:"é€æ˜ãªãƒ›ãƒ¯ã‚¤ãƒˆãƒãƒƒãƒˆã‚¿ã‚¹ã‚¯ã¨å³æ™‚ãƒªãƒ¯ãƒ¼ãƒ‰ã€‚" }}
            {% elif meta.lang == 'zh' %}
              {{ campaign.summary|default:"é€æ˜ç™½å¸½ä»»åŠ¡ä¸å³æ—¶å¥–åŠ±ã€‚" }}
            {% else %}
              {{ campaign.summary|default:"Transparent, white-hat tasks with instant rewards." }}
            {% endif %}
                    </p>
                </div>
                <div class="facts">
                    <span class="fact">
                        <strong>
                            {% if meta.lang == 'ko' %}í’€{% elif meta.lang == 'ja' %}ãƒ—ãƒ¼ãƒ«{% elif meta.lang == 'zh' %}å¥–åŠ±æ± {% else %}Pool{% endif %}
                        </strong>
                        &nbsp; {{ campaign.pool_usdt|default:"0" }} USDT
                    </span>
                    <span class="fact">
                        <strong>
                            {% if meta.lang == 'ko' %}ê°œë³„ ë³´ìƒ{% elif meta.lang == 'ja' %}å€‹åˆ¥å ±é…¬{% elif meta.lang == 'zh' %}å•æ¬¡å¥–åŠ±{% else %}Payout{% endif %}
                        </strong>
                        &nbsp; {{ campaign.payout_usdt|default:"-" }} USDT
                    </span>
                    <span class="fact">
                        <strong>
                            {% if meta.lang == 'ko' %}ê¸°ê°„{% elif meta.lang == 'ja' %}æœŸé–“{% elif meta.lang == 'zh' %}å‘¨æœŸ{% else %}Dates{% endif %}
                        </strong>
                        &nbsp; {{ campaign.start|date:"Y-m-d" }} â†’ {{ campaign.end|date:"Y-m-d" }}
                    </span>
                    {% if campaign.is_open_now %}
                    <span class="fact status-open">â— {% if meta.lang == 'ko' %}ì§„í–‰ì¤‘{% elif meta.lang == 'ja' %}é–‹å‚¬ä¸­{% elif meta.lang == 'zh' %}è¿›è¡Œä¸­{% else %}Live{% endif %}</span>
                    {% else %}
                    <span class="fact status-closed">â— {% if meta.lang == 'ko' %}ì¢…ë£Œ{% elif meta.lang == 'ja' %}çµ‚äº†{% elif meta.lang == 'zh' %}å·²ç»“æŸ{% else %}Closed{% endif %}</span>
                    {% endif %}
                </div>
            </div>
        </section>
        <!-- MAIN -->
        <main class="container">
            <div class="main">
                <!-- Hero + tabs -->
                <section class="hero-card">
                    <div class="hero-img">
                        <img src="{{ campaign.image_url|default:'https://images.pexels.com/photos/669619/pexels-photo-669619.jpeg?auto=compress&cs=tinysrgb&h=800' }}" alt="">
                    </div>
                    <div class="hero-body">
                        <div class="rt">
                        {% if campaign.long_description %}
                            {% if '<' in campaign.long_description %}
                            {% autoescape off %}{{ campaign.long_description }}{% endautoescape %}
                            {% else %}
                            <p>{{ campaign.long_description|linebreaksbr }}</p>
                            {% endif %}
                        {% else %}
                            <p>{{ campaign.summary|default:"" }}</p>
                        {% endif %}
                        </div>
                        <div class="section">
                            <div class="tabs" role="tablist">
                                <button
                                    class="tab active"
                                    data-target="#intro"
                                    role="tab"
                                    aria-selected="true"
                                    id="tab-intro"
                                >
                                    {% if meta.lang == 'ko' %}ì†Œê°œ{% elif meta.lang == 'ja' %}ç´¹ä»‹{% elif meta.lang == 'zh' %}ä»‹ç»{% else %}Introduction{% endif %}
                                </button>
                                <button
                                    class="tab"
                                    data-target="#participate"
                                    role="tab"
                                    aria-selected="false"
                                    id="tab-participate"
                                >
                                    {% if meta.lang == 'ko' %}ì°¸ì—¬í•˜ê¸°{% elif meta.lang == 'ja' %}å‚åŠ ã™ã‚‹{% elif meta.lang == 'zh' %}å‚ä¸{% else %}Participate{% endif %}
                                </button>
                            </div>
                            <!-- INTRO -->
                            <div id="intro" class="panel active" aria-labelledby="tab-intro">
                                <div style="display:grid; grid-template-columns:1fr; gap:10px">
                                    <div class="note">
                                        {% if meta.lang == 'ko' %}ì•„ë˜ ê°€ì´ë“œë¥¼ ë”°ë¼ ê³¼ì œë¥¼ ìˆ˜í–‰í•˜ì„¸ìš”. í™”ì´íŠ¸í–‡ í™œë™ë§Œ í—ˆìš©ë©ë‹ˆë‹¤.{% elif meta.lang == 'ja' %}ä»¥ä¸‹ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦å®Ÿæ–½ã—ã¦ãã ã•ã„ã€‚ãƒ›ãƒ¯ã‚¤ãƒˆãƒãƒƒãƒˆè¡Œç‚ºã®ã¿è¨±å¯ã—ã¾ã™ã€‚{% elif meta.lang == 'zh' %}è¯·æŒ‰ç…§ä¸‹è¿°æŒ‡å¼•å®Œæˆä»»åŠ¡ï¼Œä»…å…è®¸ç™½å¸½æ“ä½œã€‚{% else %}Follow the guide below. Only white-hat contributions are allowed.{% endif %}
                                    </div>
                  {% if campaign.rules %}
                                    <div class="note">
                                        <strong>
                                            {% if meta.lang == 'ko' %}ê·œì¹™{% elif meta.lang == 'ja' %}ãƒ«ãƒ¼ãƒ«{% elif meta.lang == 'zh' %}è§„åˆ™{% else %}Rules{% endif %}
                                        </strong>
                                        : {{ campaign.rules }}
                                    </div>
                                    {% endif %}
                                </div>
                                <h3 style="margin:14px 0 8px; font-size:16px;">
                                    {% if meta.lang == 'ko' %}ìµœê·¼ ì°¸ì—¬ ì˜ˆì‹œ{% elif meta.lang == 'ja' %}æœ€è¿‘ã®æŠ•ç¨¿ä¾‹{% elif meta.lang == 'zh' %}æœ€æ–°å‚ä¸ç¤ºä¾‹{% else %}Recent Examples{% endif %}
                                </h3>
                                <div class="scroller">
                                    {% for s in examples %}
                                    <div class="example">
                                        <div style="margin-bottom:6px;">
                                            {% if s.post_url %}
                                            <span style="color:#cfe7dd">
                                                {% if meta.lang == 'ko' %}ì™¸ë¶€ ê²Œì‹œë¬¼ ì œì¶œ{% elif meta.lang == 'ja' %}å¤–éƒ¨æŠ•ç¨¿ã‚’æå‡º{% elif meta.lang == 'zh' %}å·²æäº¤å¤–éƒ¨å¸–å­{% else %}External post submitted{% endif %}
                                            </span>
                                            {% elif s.visited_url %}
                                            <span style="color:#cfe7dd">
                                                {% if meta.lang == 'ko' %}ë°©ë¬¸ ì™„ë£Œ{% elif meta.lang == 'ja' %}è¨ªå•å®Œäº†{% elif meta.lang == 'zh' %}å·²è®¿é—®{% else %}Visit recorded{% endif %}
                                            </span>
                                            {% else %}
                                            <span style="color:#cfe7dd">{{ s.comment|default:"(no comment)" }}</span>
                                            {% endif %}
                                        </div>
                                        <div class="meta">
                                            <span class="addr">
                                                ğŸ‘¤
                                                {% if s.user and s.user.display_name %}
                                                    {{ s.user.display_name }}
                                                {% elif s.user and s.user.address %}
                                                    {{ s.user.address }}
                                                {% elif s.wallet_address %}
                                                    {{ s.wallet_address }}
                                                {% elif s.user_address %}
                                                    {{ s.user_address }}
                                                {% else %}
                                                    Anon
                                                {% endif %}
                                            </span>
                                            <span>Â·</span>
                                            <span>{% if s.created_at %}{{ s.created_at|date:"Y-m-d H:i" }}{% else %}-{% endif %}</span>
                                            {% if s.proof_score %}
                                            <span>Â·</span>
                                            <span>{% if meta.lang == 'ko' %}ì ìˆ˜{% elif meta.lang == 'ja' %}ã‚¹ã‚³ã‚¢{% elif meta.lang == 'zh' %}è¯„åˆ†{% else %}Score{% endif %} {{ s.proof_score }}</span>
                                            {% endif %}
                        {% if s.get_status_display or s.status %}
                                            <span>Â·</span>
                                            <span>{% if meta.lang == 'ko' %}ìƒíƒœ{% elif meta.lang == 'ja' %}ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹{% elif meta.lang == 'zh' %}çŠ¶æ€{% else %}Status{% endif %}: {% firstof s.get_status_display s.status "PENDING" %}</span>
                                            {% endif %}
                                        </div>
                                    </div>
                                    {% empty %}
                                    <div class="note">{% if meta.lang == 'ko' %}ì•„ì§ ì˜ˆì‹œê°€ ì—†ìŠµë‹ˆë‹¤.{% elif meta.lang == 'ja' %}ã¾ã æŠ•ç¨¿ä¾‹ãŒã‚ã‚Šã¾ã›ã‚“ã€‚{% elif meta.lang == 'zh' %}æš‚æ— ç¤ºä¾‹ã€‚{% else %}No examples yet.{% endif %}</div>
                                    {% endfor %}
                                </div>
                            </div>
                            <!-- PARTICIPATE -->
                            <div id="participate" class="panel" aria-labelledby="tab-participate">
                                {% comment %}Normalize and collapse MIXED -> VISIT{% endcomment %}
                {% with t=campaign.task_type|stringformat:"s" %}
                  {% if t == "MIXED" %}{% with t="VISIT" %}{% endwith %}{% endif %}

                  {% if t == "LINK" %}
                                <h3 style="margin:0 0 8px; font-size:16px;">
                                    {% if meta.lang == 'ko' %}ë§í¬ ê³µìœ  ê³¼ì œ ì œì¶œ{% elif meta.lang == 'ja' %}ãƒªãƒ³ã‚¯å…±æœ‰ã‚¿ã‚¹ã‚¯ã®æå‡º{% elif meta.lang == 'zh' %}æäº¤å¤–é“¾åˆ†äº«ä»»åŠ¡{% else %}Submit Link Sharing Task{% endif %}
                                </h3>
                                {% if campaign.seo_keywords %}
                                <div class="note important" style="margin-bottom:10px;">
                                    <strong>
                                        {% if meta.lang == 'ko' %}í•„ìˆ˜ SEO í‚¤ì›Œë“œ(ë°˜ë“œì‹œ í¬í•¨){% elif meta.lang == 'ja' %}å¿…é ˆSEOã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆå¿…ãšå«ã‚ã‚‹ï¼‰{% elif meta.lang == 'zh' %}å¿…å¡«SEOå…³é”®è¯ï¼ˆå¿…é¡»åŒ…å«ï¼‰{% else %}Required SEO keywords (must include){% endif %}
                                    </strong>
                                    <div style="margin-top:6px">{{ campaign.seo_keywords }}</div>
                                </div>
                                {% else %}
                                <div class="note important" style="margin-bottom:10px;">
                                    <strong>
                                        {% if meta.lang == 'ko' %}í•„ìˆ˜ SEO í‚¤ì›Œë“œ(ë°˜ë“œì‹œ í¬í•¨){% elif meta.lang == 'ja' %}å¿…é ˆSEOã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆå¿…ãšå«ã‚ã‚‹ï¼‰{% elif meta.lang == 'zh' %}å¿…å¡«SEOå…³é”®è¯ï¼ˆå¿…é¡»åŒ…å«ï¼‰{% else %}Required SEO keywords (must include){% endif %}
                                    </strong>
                                    <div style="margin-top:6px">quant investing, backtesting, SimpleQuant, strategy builder</div>
                                </div>
                                {% endif %}
                                <div class="note" style="margin-bottom:10px;">
                                    {% if meta.lang == 'ko' %}íŒ”ë¡œì›Œ ìˆ˜ì™€ ë„ë©”ì¸ ê¶Œìœ„(DA)ì— ë”°ë¼ ì‹¤ì œ ë³´ìƒì•¡ì€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.{% elif meta.lang == 'ja' %}ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼æ•°ã‚„ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚ªãƒ¼ã‚½ãƒªãƒ†ã‚£ã«å¿œã˜ã¦å®Ÿéš›ã®å ±é…¬é¡ã¯å¤‰å‹•ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚{% elif meta.lang == 'zh' %}å®é™…å¥–åŠ±å¯èƒ½å› ç²‰ä¸æ•°é‡ä¸åŸŸåæƒå¨ï¼ˆDAï¼‰è€Œæœ‰æ‰€å˜åŒ–ã€‚{% else %}Actual payout may vary based on follower count and domain authority (DA).{% endif %}
                                </div>
                                <div class="note">
                                    {% if meta.lang == 'ko' %}í¬ìŠ¤íŠ¸ URLê³¼ ì§€ê°‘ ì£¼ì†Œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.{% elif meta.lang == 'ja' %}æŠ•ç¨¿URLã¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚{% elif meta.lang == 'zh' %}è¯·è¾“å…¥ä½ çš„å¸–å­é“¾æ¥ä¸é’±åŒ…åœ°å€ã€‚{% else %}Enter your post URL and wallet address.{% endif %}
                                </div>
                                <form method="post" action="{% if campaign.slug %}{% url 'submit_link' campaign.slug %}{% else %}#{% endif %}" style="margin-top:12px">
                                    {% csrf_token %}
                                    <div class="row">
                                        <input
                                            type="url"
                                            name="post_url"
                                            placeholder="{% if meta.lang == 'ko' %}í¬ìŠ¤íŠ¸ URL{% elif meta.lang == 'ja' %}æŠ•ç¨¿URL{% elif meta.lang == 'zh' %}å¸–å­é“¾æ¥{% else %}Post URL{% endif %}"
                                            required
                                        >
                                        <textarea name="comment" placeholder="{% if meta.lang == 'ko' %}ì¶”ê°€ ì½”ë©˜íŠ¸ (ì„ íƒ){% elif meta.lang == 'ja' %}è£œè¶³ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆä»»æ„ï¼‰{% elif meta.lang == 'zh' %}é™„åŠ è¯´æ˜ï¼ˆå¯é€‰ï¼‰{% else %}Optional comment{% endif %}"></textarea>
                                    </div>
                                    <div class="row">
                                        <input
                                            type="text"
                                            name="wallet"
                                            placeholder="{% if meta.lang == 'ko' %}ì›”ë › ì£¼ì†Œ (ì˜ˆ: 0x...){% elif meta.lang == 'ja' %}ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä¾‹: 0x...ï¼‰{% elif meta.lang == 'zh' %}é’±åŒ…åœ°å€ï¼ˆä¾‹ï¼š0x...ï¼‰{% else %}Wallet address (e.g., 0x...){% endif %}"
                                            required
                                        >
                                        <div class="select-wrap">
                                            <select name="network" required>
                                                <option value="ETH">ETH</option>
                                                <option value="SOL">SOL</option>
                                                <option value="BNB">BNB</option>
                                                <option value="POL">POL</option>
                                            </select>
                                            <svg class="chev" viewBox="0 0 20 20">
                                                <path
                                                    d="M5 7l5 6 5-6"
                                                    fill="none"
                                                    stroke="currentColor"
                                                    stroke-width="2"
                                                    stroke-linecap="round"
                                                />
                                            </svg>
                                        </div>
                                    </div>
                                    <div style="display:flex; justify-content:flex-end; gap:10px; margin-top:12px;">
                                        <button class="btn" type="submit">{% if meta.lang == 'ko' %}ì œì¶œ{% elif meta.lang == 'ja' %}é€ä¿¡{% elif meta.lang == 'zh' %}æäº¤{% else %}Submit{% endif %}</button>
                                        <button class="btn-outline" type="reset">{% if meta.lang == 'ko' %}ì´ˆê¸°í™”{% elif meta.lang == 'ja' %}ãƒªã‚»ãƒƒãƒˆ{% elif meta.lang == 'zh' %}é‡ç½®{% else %}Reset{% endif %}</button>
                                    </div>
                                </form>
                                {% else %}
                                <h3 style="margin:0 0 8px; font-size:16px;">
                                    {% if meta.lang == 'ko' %}ë°©ë¬¸/ê²€ìƒ‰ ê³¼ì œ ì œì¶œ{% elif meta.lang == 'ja' %}è¨ªå•/æ¤œç´¢ã‚¿ã‚¹ã‚¯ã®æå‡º{% elif meta.lang == 'zh' %}æäº¤è®¿é—®/æœç´¢ä»»åŠ¡{% else %}Submit Visit/Search Task{% endif %}
                                </h3>
                                {% with search_url="https://www.google.com" keyword="ì‹¬í”Œí€€íŠ¸" page_num=2 result_pos=5 site=campaign.client_site_domain|default:"simplequant.net" %}
                    {% static 'img/sample-favicon.png' as sample_favi %}
                                <div class="note-row">
                                    <div class="note important instr">
                                        <strong>
                                            {% if meta.lang == 'ko' %}ì½”ë“œ ì°¾ëŠ” ë°©ë²•{% elif meta.lang == 'ja' %}ã‚³ãƒ¼ãƒ‰ã®è¦‹ã¤ã‘æ–¹{% elif meta.lang == 'zh' %}å¦‚ä½•æ‰¾åˆ°éªŒè¯ç {% else %}How to find the code{% endif %}
                                        </strong>
                                        <div style="margin-top:6px">
                                            {% if campaign.code_instructions %}
                                            <div class="rt">
                                                {% if '<' in campaign.code_instructions %}
                                                {% autoescape off %}{{ campaign.code_instructions }}{% endautoescape %}
                                                {% else %}
                                                <p>{{ campaign.code_instructions|linebreaksbr }}</p>
                                                {% endif %}
                                            </div>
                                            {% else %}
                            {% if meta.lang == 'ko' %}
                                            <ol style="margin:6px 0 0 18px; padding-left:4px;">
                                                <li>
                                                    <a href="{{ search_url }}" target="_blank" rel="noopener">Google</a>
                                                    ì—ì„œ
                                                    <code>{{ keyword }}</code>
                                                    ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.
                                                </li>
                                                <li>
                                                    ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€
                                                    <strong>{{ page_num }}</strong>
                                                    ë¡œ ì´ë™í•©ë‹ˆë‹¤.
                                                </li>
                                                <li>
                                                    í•´ë‹¹ í˜ì´ì§€ì˜
                                                    <strong>{{ result_pos }}</strong>
                                                    ë²ˆì§¸ ê²°ê³¼ì—ì„œ
                                                    <strong>{{ site }}</strong>
                                                    ë§í¬ë¥¼ ì°¾ê³  í´ë¦­í•©ë‹ˆë‹¤.
                                                </li>
                                                <li>
                                                    ëœë”©í•œ í˜ì´ì§€ë¥¼ ëê¹Œì§€ ìŠ¤í¬ë¡¤í•˜ì—¬ í‘¸í„°(footer)ì— ìˆëŠ”
                                                    <em>CODE: xxxxxx</em>
                                                    ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
                                                </li>
                                                <li>ì•„ë˜ ì…ë ¥ì°½ì— ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì…ë ¥í•˜ê³  ì œì¶œí•˜ë©´ ë©ë‹ˆë‹¤.</li>
                                            </ol>
                                            {% elif meta.lang == 'ja' %}
                                            <ol style="margin:6px 0 0 18px; padding-left:4px;">
                                                <li>
                                                    <a href="{{ search_url }}" target="_blank" rel="noopener">Google</a>
                                                    ã§
                                                    <code>{{ keyword }}</code>
                                                    ã‚’æ¤œç´¢ã—ã¾ã™ã€‚
                                                </li>
                                                <li>
                                                    æ¤œç´¢çµæœã®
                                                    <strong>{{ page_num }}</strong>
                                                    ãƒšãƒ¼ã‚¸ç›®ã¸ç§»å‹•ã—ã¾ã™ã€‚
                                                </li>
                                                <li>
                                                    ãã®ãƒšãƒ¼ã‚¸ã®
                                                    <strong>{{ result_pos }}</strong>
                                                    ç•ªç›®ã®çµæœã‹ã‚‰
                                                    <strong>{{ site }}</strong>
                                                    ã‚’è¦‹ã¤ã‘ã¦ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
                                                </li>
                                                <li>
                                                    é·ç§»å…ˆãƒšãƒ¼ã‚¸ã‚’ä¸€ç•ªä¸‹ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãƒ•ãƒƒã‚¿ãƒ¼ã«ã‚ã‚‹
                                                    <em>CODE: xxxxxx</em>
                                                    ã‚’ç¢ºèªã—ã¾ã™ã€‚
                                                </li>
                                                <li>ãã®ã‚³ãƒ¼ãƒ‰ã‚’ä¸‹ã®å…¥åŠ›æ¬„ã«å…¥åŠ›ã—ã¦é€ä¿¡ã—ã¦ãã ã•ã„ã€‚</li>
                                            </ol>
                                            {% elif meta.lang == 'zh' %}
                                            <ol style="margin:6px 0 0 18px; padding-left:4px;">
                                                <li>
                                                    åœ¨
                                                    <a href="{{ search_url }}" target="_blank" rel="noopener">Google</a>
                                                    æœç´¢
                                                    <code>{{ keyword }}</code>
                                                    ã€‚
                                                </li>
                                                <li>
                                                    è·³è½¬åˆ°æœç´¢ç»“æœçš„ç¬¬
                                                    <strong>{{ page_num }}</strong>
                                                    é¡µã€‚
                                                </li>
                                                <li>
                                                    åœ¨è¯¥é¡µç¬¬
                                                    <strong>{{ result_pos }}</strong>
                                                    ä¸ªç»“æœä¸­æ‰¾åˆ°å¹¶ç‚¹å‡»
                                                    <strong>{{ site }}</strong>
                                                    çš„é“¾æ¥ã€‚
                                                </li>
                                                <li>
                                                    è¿›å…¥é¡µé¢åæ»šåŠ¨è‡³é¡µè„šï¼ˆfooterï¼‰ï¼Œæ‰¾åˆ°
                                                    <em>CODE: xxxxxx</em>
                                                    ã€‚
                                                </li>
                                                <li>å°†è¯¥ä»£ç åŸæ ·å¡«å…¥ä¸‹é¢è¾“å…¥æ¡†å¹¶æäº¤ã€‚</li>
                                            </ol>
                                            {% else %}
                                            <ol style="margin:6px 0 0 18px; padding-left:4px;">
                                                <li>
                                                    Go to
                                                    <a href="{{ search_url }}" target="_blank" rel="noopener">Google</a>
                                                    and search for
                                                    <code>{{ keyword }}</code>
                                                    .
                                                </li>
                                                <li>
                                                    Navigate to results page
                                                    <strong>{{ page_num }}</strong>
                                                    .
                                                </li>
                                                <li>
                                                    Find the
                                                    <strong>{{ result_pos }}</strong>
                                                    result linking to
                                                    <strong>{{ site }}</strong>
                                                    and click it.
                                                </li>
                                                <li>
                                                    Scroll to the bottom of the landing page and locate
                                                    <em>CODE: xxxxxx</em>
                                                    in the footer.
                                                </li>
                                                <li>Enter that code below exactly and submit.</li>
                                            </ol>
                                            {% endif %}
                          {% endif %}
                                        </div>
                                    </div>
                                    <div class="favibox" aria-hidden="true" title="{{ site }}">
                                        <img src="{{ campaign.favicon_url|default:sample_favi }}" alt="Site favicon">
                                    </div>
                                </div>
                                {% endwith %}
                                <form method="post" action="{% if campaign.slug %}{% url 'submit_visit' campaign.slug %}{% else %}#{% endif %}" style="margin-top:12px">
                                    {% csrf_token %}
                                    <div class="row">
                                        <input
                                            type="text"
                                            name="code"
                                            placeholder="{% if meta.lang == 'ko' %}ì½”ë“œ xxxxxx ì…ë ¥{% elif meta.lang == 'ja' %}ã‚³ãƒ¼ãƒ‰ xxxxxx ã‚’å…¥åŠ›{% elif meta.lang == 'zh' %}è¾“å…¥ä»£ç  xxxxxx{% else %}Enter code xxxxxx{% endif %}"
                                            required
                                        >
                                    </div>
                                    <div class="row">
                                        <input
                                            type="text"
                                            name="wallet2"
                                            placeholder="{% if meta.lang == 'ko' %}ì›”ë › ì£¼ì†Œ (ì˜ˆ: 0x...){% elif meta.lang == 'ja' %}ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä¾‹: 0x...ï¼‰{% elif meta.lang == 'zh' %}é’±åŒ…åœ°å€ï¼ˆä¾‹ï¼š0x...ï¼‰{% else %}Wallet address (e.g., 0x...){% endif %}"
                                            required
                                        >
                                        <div class="select-wrap">
                                            <select name="network" required>
                                                <option value="ETH">ETH</option>
                                                <option value="SOL">SOL</option>
                                                <option value="BNB">BNB</option>
                                                <option value="POL">POL</option>
                                            </select>
                                            <svg class="chev" viewBox="0 0 20 20">
                                                <path
                                                    d="M5 7l5 6 5-6"
                                                    fill="none"
                                                    stroke="currentColor"
                                                    stroke-width="2"
                                                    stroke-linecap="round"
                                                />
                                            </svg>
                                        </div>
                                    </div>
                                    <div style="display:flex; justify-content:flex-end; gap:10px; margin-top:12px;">
                                        <button class="btn" type="submit">{% if meta.lang == 'ko' %}ì œì¶œ{% elif meta.lang == 'ja' %}é€ä¿¡{% elif meta.lang == 'zh' %}æäº¤{% else %}Submit{% endif %}</button>
                                    </div>
                                </form>
                                {% endif %}
                {% endwith %}
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Facts & progress -->
                <aside class="side">
                    <div class="row">
                        <span class="label">{% if meta.lang == 'ko' %}ìœ í˜•{% elif meta.lang == 'ja' %}ã‚¿ã‚¤ãƒ—{% elif meta.lang == 'zh' %}ç±»å‹{% else %}Type{% endif %}</span>
                        <span>{{ campaign.get_task_type_display|default:campaign.task_type }}</span>
                    </div>
                    <div class="row">
                        <span class="label">{% if meta.lang == 'ko' %}í’€{% elif meta.lang == 'ja' %}ãƒ—ãƒ¼ãƒ«{% elif meta.lang == 'zh' %}å¥–åŠ±æ± {% else %}Pool{% endif %}</span>
                        <span>{{ campaign.pool_usdt|default:"0" }} USDT</span>
                    </div>
                    <div class="row">
                        <span class="label">{% if meta.lang == 'ko' %}ê°œë³„ ë³´ìƒ{% elif meta.lang == 'ja' %}å€‹åˆ¥å ±é…¬{% elif meta.lang == 'zh' %}å•æ¬¡å¥–åŠ±{% else %}Payout{% endif %}</span>
                        <span>{{ campaign.payout_usdt|default:"-" }} USDT</span>
                    </div>
                    <div class="row">
                        <span class="label">{% if meta.lang == 'ko' %}ì°¸ì—¬ì{% elif meta.lang == 'ja' %}å‚åŠ è€…{% elif meta.lang == 'zh' %}å‚ä¸è€…{% else %}Participants{% endif %}</span>
                        <span>{{ campaign.participants|default:"-" }}</span>
                    </div>
                    <div class="row">
                        <span class="label">{% if meta.lang == 'ko' %}ê¸°ê°„{% elif meta.lang == 'ja' %}æœŸé–“{% elif meta.lang == 'zh' %}å‘¨æœŸ{% else %}Window{% endif %}</span>
                        <span>{{ campaign.start|date:"Y-m-d" }} â†’ {{ campaign.end|date:"Y-m-d" }}</span>
                    </div>
                    {% if quota_total %}
                    <div class="row">
                        <span class="label">{% if meta.lang == 'ko' %}ì¿¼í„°{% elif meta.lang == 'ja' %}ã‚¯ã‚ªãƒ¼ã‚¿{% elif meta.lang == 'zh' %}é…é¢{% else %}Quota{% endif %}</span>
                        <span>{{ submitted }}/{{ quota_total }}</span>
                    </div>
                    <div class="progress" style="margin-top:4px">
                        <div class="bar" data-pct="{{ claimed_percent }}"></div>
                    </div>
                    {% endif %}
                    <div class="cta">
                        <a class="btn-outline" href="{{ meta.url }}">
                            {% if meta.lang == 'ko' %}ê³µìœ {% elif meta.lang == 'ja' %}å…±æœ‰{% elif meta.lang == 'zh' %}åˆ†äº«{% else %}Share{% endif %}
                        </a>
                    </div>
                </aside>
            </div>
        </main>
        <!-- FOOTER -->
        <footer class="footer">
            <div class="container" style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
                <div>
                    Â©
                    <strong>LinkHash</strong>
                </div>
                <div style="opacity:.7">
                    {% if meta.lang == 'ko' %}í™”ì´íŠ¸í–‡ ë°±ë§í¬ Â· íˆ¬ëª…í•œ ë¦¬ì›Œë“œ{% elif meta.lang == 'ja' %}ãƒ›ãƒ¯ã‚¤ãƒˆãƒãƒƒãƒˆè¢«ãƒªãƒ³ã‚¯ãƒ»é€æ˜ãªå ±é…¬{% elif meta.lang == 'zh' %}ç™½å¸½å¤–é“¾ Â· é€æ˜å¥–åŠ±{% else %}White-hat backlinks Â· Transparent rewards{% endif %}
                </div>
            </div>
        </footer>
        <!-- INTERACTIONS (no external libs) -->
        <script>
      // Tabs
      const tabs = document.querySelectorAll('.tab');
      const panels = document.querySelectorAll('.panel');
      function switchTab(tab){
        tabs.forEach(t=>{ t.classList.remove('active'); t.setAttribute('aria-selected','false'); });
        panels.forEach(p=> p.classList.remove('active'));
        tab.classList.add('active'); tab.setAttribute('aria-selected','true');
        const target = document.querySelector(tab.dataset.target);
        if(target) target.classList.add('active');
        animateBars();
      }
      tabs.forEach(tab=> tab.addEventListener('click', ()=> switchTab(tab)));

      // Progress bar (animate when visible)
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            const b = entry.target;
            const target = ((b.dataset.pct ? b.dataset.pct : '0') + '%');
            b.style.transition = 'width 900ms cubic-bezier(.2,1,.22,1)';
            requestAnimationFrame(()=> b.style.width = target);
            io.unobserve(b);
          }
        });
      }, { threshold:.2 });
      function animateBars(){ document.querySelectorAll('.progress .bar').forEach(b=> io.observe(b)); }
      animateBars();
        </script>
        <!-- CSRF + Wallet -->
        <script>
      function getCookie(name){
        const m = document.cookie.match(new RegExp('(^|; )' + encodeURIComponent(name) + '=([^;]*)'));
        return m ? decodeURIComponent(m[2]) : null;
      }
      async function apiGet(url){
        const r = await fetch(url, { credentials: 'same-origin' });
        if(!r.ok) throw new Error((await r.text()) || ('GET ' + url + ' failed'));
        return r.json();
      }
      async function apiPost(url, json){
        const r = await fetch(url, {
          method: 'POST', credentials: 'same-origin',
          headers: { 'Content-Type': 'application/json', 'X-CSRFToken': getCookie('csrftoken') || '' },
          body: JSON.stringify(json || {})
        });
        if(!r.ok){
          let msg; try{ msg = (await r.json()).error }catch(e){ msg = await r.text(); }
          throw new Error(msg || ('POST ' + url + ' failed'));
        }
        return r.json();
      }
      async function connectWallet(){
        try{
          if(!window.ethereum){ alert('MetaMask not detected. Please install MetaMask.'); return; }
          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
          const address = (accounts && accounts[0]) ? accounts[0] : null;
          if(!address){ alert('No account selected.'); return; }
          const nonceRes = await apiGet(`/api/auth/nonce?address=${encodeURIComponent(address)}`);
          if(!nonceRes.ok){ throw new Error(nonceRes.error || 'nonce error'); }
          const message = nonceRes.message || `LinkHash login\n\nNonce: ${nonceRes.nonce}\n\nThis signature proves you control this wallet.`;
          const signature = await window.ethereum.request({ method: 'personal_sign', params: [ message, address ] });
          const verifyRes = await apiPost('/api/auth/verify', { address, signature, message });
          if(verifyRes && verifyRes.ok){ window.location.reload(); } else { alert('Login failed.'); }
        }catch(err){ console.error(err); alert('Wallet login failed: ' + (err && err.message ? err.message : err)); }
      }
      async function logoutWallet(){
        try{ await apiPost('/api/auth/logout', {}); window.location.reload(); }
        catch(err){ console.error(err); alert('Logout failed: ' + (err && err.message ? err.message : err)); }
      }
      window.connectWallet = connectWallet;
      window.logoutWallet  = logoutWallet;
        </script>
        <!-- Language switcher -->
        <script>
      (function(){
        const $wrap = document.getElementById('langSwitcher');
        if(!$wrap) return;
        const $btn  = $wrap.querySelector('.lang-btn');
        const $menu = $wrap.querySelector('.lang-menu');
        const current = ($wrap.dataset.current || 'en').toLowerCase();

        const flagEl = $btn.querySelector('.flag-emoji');
        const flagMap = { en:'ğŸ‡ºğŸ‡¸', ko:'ğŸ‡°ğŸ‡·', ja:'ğŸ‡¯ğŸ‡µ', zh:'ğŸ‡¨ğŸ‡³' };
        flagEl.textContent = flagMap[current] || 'ğŸ‡ºğŸ‡¸';

        function close(){ $wrap.classList.remove('open'); $btn.setAttribute('aria-expanded','false'); }
        $btn.addEventListener('click', (e)=>{ e.stopPropagation(); $wrap.classList.toggle('open'); $btn.setAttribute('aria-expanded', $wrap.classList.contains('open')); });
        document.addEventListener('click', ()=> close());
        document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') close(); });

        function pathFor(lang){
          const loc = window.location;
          const path = loc.pathname;
          const clean = path.replace(/^\/(ko|ja|zh)(\/|$)/, '/'); // strip locale prefix if any
          const baseMap = { '/': true, '/rewards/': true, '/events/': true, '/leaderboard/': true };

          // /rewards/apply/ variants
          const isApply = /^\/rewards\/apply(\/(ko|ja|zh)\/)?$/.test(path);
          if(isApply){ return (lang==='en') ? '/rewards/apply/?lang=en' : `/rewards/apply/${lang}/`; }

          if(baseMap[clean]){
            if(lang==='en'){
              const q = new URLSearchParams(loc.search); q.set('lang','en');
              return clean + (q.toString() ? `?${q.toString()}` : '');
            }
            return clean === '/' ? `/${lang}/` : `/${lang}${clean}`;
          }

          // Keep current path (e.g., /rewards/slug-id/) and toggle ?lang=
          const params = new URLSearchParams(loc.search);
          params.set('lang', lang);
          return path + (params.toString() ? `?${params.toString()}` : '');
        }

        $menu.querySelectorAll('.lang-item').forEach(li=>{
          li.addEventListener('click', ()=>{
            const lang = li.getAttribute('data-lang');
            flagEl.textContent = li.getAttribute('data-flag') || '';
            $wrap.querySelector('.label').textContent =
              lang==='ko' ? 'í•œêµ­ì–´' : lang==='ja' ? 'æ—¥æœ¬èª' : lang==='zh' ? 'ä¸­æ–‡' : 'English';
            close();
            const target = pathFor(lang);
            if(target) window.location.href = target;
          });
        });
      })();
        </script>
        <script>
(function(){
  // Sheet toggle
  const $toggle = document.getElementById('mnavToggle');
  const $sheet  = document.getElementById('mnavSheet');
  if($toggle && $sheet){
    const open = ()=>{ $sheet.hidden = false; $toggle.setAttribute('aria-expanded','true'); document.documentElement.style.overflow='hidden'; };
    const close= ()=>{ $sheet.hidden = true;  $toggle.setAttribute('aria-expanded','false'); document.documentElement.style.overflow=''; };
    $toggle.addEventListener('click', ()=> $sheet.hidden ? open() : close());
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') close(); });

    // Close sheet on outside click (only when open)
    document.addEventListener('click', (e)=>{
      if($sheet.hidden) return;
      const within = e.target.closest('#mnavSheet') || e.target.closest('#mnavToggle');
      if(!within) close();
    });
  }

  // Language switcher (same routing rules as desktop)
  const $wrap = document.getElementById('langSwitcher');
  if($wrap){
    const $btn  = $wrap.querySelector('.lang-btn');
    const $menu = $wrap.querySelector('.lang-menu');
    const current = ($wrap.dataset.current || 'en').toLowerCase();
    const flagEl = $btn.querySelector('.flag-emoji');
    const labelEl= $btn.querySelector('.label');
    const flagMap= { en:'ğŸ‡ºğŸ‡¸', ko:'ğŸ‡°ğŸ‡·', ja:'ğŸ‡¯ğŸ‡µ', zh:'ğŸ‡¨ğŸ‡³' };
    flagEl.textContent = flagMap[current] || 'ğŸ‡ºğŸ‡¸';

    function closeMenu(){ $wrap.classList.remove('open'); $btn.setAttribute('aria-expanded','false'); }
    function openMenu(){  $wrap.classList.add('open');    $btn.setAttribute('aria-expanded','true');  }

    $btn.addEventListener('click', (e)=>{ e.stopPropagation(); $wrap.classList.contains('open') ? closeMenu() : openMenu(); });
    document.addEventListener('click', closeMenu);
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeMenu(); });

    function pathFor(lang){
      const loc = window.location;
      const path = loc.pathname;
      const clean = path.replace(/^\/(ko|ja|zh)(\/|$)/, '/'); // strip locale prefix
      const baseMap = { '/': true, '/rewards/': true, '/events/': true, '/leaderboard/': true };
      const isApply = /^\/rewards\/apply(\/(ko|ja|zh)\/)?$/.test(path);
      if(isApply){
        if(lang === 'en') return '/rewards/apply/?lang=en';
        return `/rewards/apply/${lang}/`;
      }
      if(baseMap[clean]){
        if(lang === 'en'){
          const q = new URLSearchParams(loc.search);
          q.set('lang','en');
          return clean + (q.toString() ? `?${q.toString()}` : '');
        }
        return clean === '/' ? `/${lang}/` : `/${lang}${clean}`;
      }
      const params = new URLSearchParams(loc.search);
      params.set('lang', lang);
      return path + (params.toString() ? `?${params.toString()}` : '');
    }

    $menu.querySelectorAll('.lang-item').forEach(li=>{
      li.addEventListener('click', ()=>{
        const lang  = li.getAttribute('data-lang');
        const emoji = li.getAttribute('data-flag') || '';
        flagEl.textContent = emoji;
        labelEl.textContent = lang==='ko' ? 'í•œêµ­ì–´' : lang==='ja' ? 'æ—¥æœ¬èª' : lang==='zh' ? 'ä¸­æ–‡' : 'English';
        closeMenu();
        const target = pathFor(lang);
        if(target) window.location.href = target;
      });
    });
  }
})();
        </script>
    </body>
</html>
