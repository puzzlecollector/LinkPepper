<!doctype html>
{% load static %}
<html lang="{{ meta.lang|default:'en' }}">
  <head>
    <meta charset="utf-8">
    <!-- Desktop-first like the new UI -->
    <meta name="viewport" content="width=1280, initial-scale=1">
    <title>{{ meta.title|default:"LinkHash | Launch a Campaign" }}</title>
    <link rel="canonical" href="{{ meta.canonical|default:meta.url }}">
    <meta name="robots" content="index,follow">
    <meta name="author" content="LinkHash">
    <meta name="description" content="{{ meta.description|default:'Request a new LinkHash reward campaign.' }}">
    <!-- OG/Twitter -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="LinkHash">
    <meta property="og:title" content="{{ meta.og_title|default:meta.title }}">
    <meta property="og:description" content="{{ meta.og_description|default:meta.description }}">
    <meta property="og:url" content="{{ meta.url }}">
    <meta property="og:image" content="{% static 'img/og-cover.png' %}">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ meta.og_title|default:meta.title }}">
    <meta name="twitter:description" content="{{ meta.og_description|default:meta.description }}">
    <meta name="twitter:image" content="{% static 'img/twitter-card.png' %}">
    <!-- Favicons -->
    <link rel="icon" href="{% static 'img/favicon.ico' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'img/favicon-16x16.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/apple-touch-icon.png' %}">

    <style>
      /* ======= THEME (match new dark UI) ======= */
      :root{
        --bg:#0a0b0d; --bg-elev:#0f1115; --panel:#11141a; --panel-2:#0e1318; --grid:#0b0f13; --line:#1a212d;
        --text:#e6f1ee; --muted:#9fb0aa; --green:#16a34a; --green-2:#23d16a;
        --glow:0 0 22px rgba(22,163,74,.35), 0 0 48px rgba(22,163,74,.15);
        --radius:16px; --shadow-lg:0 40px 80px rgba(0,0,0,.55), inset 0 -1px 0 rgba(255,255,255,.03);
        --shadow-md:0 16px 40px rgba(0,0,0,.45);
        --noise:transparent url('data:image/svg+xml;utf8,\
          <svg xmlns="http://www.w3.org/2000/svg" width=\"120\" height=\"120\" viewBox=\"0 0 120 120\">\
          <filter id=\"n\"><feTurbulence type=\"fractalNoise\" baseFrequency=\"0.9\" numOctaves=\"2\" stitchTiles=\"stitch\"/></filter>\
          <rect width=\"120\" height=\"120\" filter=\"url(%23n)\" opacity=\".04\"/></svg>') repeat;
      }
      *{box-sizing:border-box}
      html,body{height:100%}
      body{
        margin:0; color:var(--text);
        background:
          radial-gradient(80rem 60rem at 90% -10%, rgba(22,163,74,.12), transparent 60%),
          radial-gradient(60rem 40rem at -20% 20%, rgba(35,209,106,.08), transparent 60%),
          linear-gradient(180deg, #08090b, #0a0b0d 20%, #090c10);
        font-family: ui-sans-serif, "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Apple SD Gothic Neo", "Noto Sans KR", Arial, sans-serif;
        letter-spacing:.2px; background-attachment:fixed;
      }
      a{color:inherit;text-decoration:none}
      .container{width:1200px; margin:0 auto; padding:0 20px;}

      /* ===== NAV (same look as new pages) ===== */
      .nav{
        position:sticky; top:0; z-index:60; backdrop-filter: blur(10px);
        background:linear-gradient(180deg, rgba(15,17,21,.65), rgba(15,17,21,.35));
        border-bottom:1px solid rgba(255,255,255,.06);
      }
      .nav .row{display:flex; align-items:center; justify-content:space-between; height:72px;}
      .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.4px; color:#d8ffe7; text-shadow:0 0 18px rgba(35,209,106,.24);}
      .brand .dot{width:10px;height:10px;border-radius:999px;background:var(--green);box-shadow:var(--glow)}
      .nav .links{display:flex; gap:24px; align-items:center;}
      .nav .links a{color:#cfe7dd; opacity:.9}
      .nav .links a:hover{color:#fff; text-shadow:0 0 12px rgba(35,209,106,.25)}
      .btn{display:inline-flex; align-items:center; gap:10px; padding:12px 16px; font-weight:700; border-radius:12px; background:linear-gradient(180deg,#19b357,#119e49); color:#05160c; box-shadow:var(--glow); border:1px solid #2fe07a}
      .btn-outline{padding:10px 14px; border-radius:12px; border:1px solid #2a333f; background: rgba(14,18,25,.6); color:#d9f6e6}

      /* ===== HEADER ===== */
      .page-head{
        padding:50px 0 16px;
        background:linear-gradient(180deg, rgba(12,16,20,.65), rgba(10,12,16,.35)), var(--noise);
        border-bottom:1px solid rgba(255,255,255,.06);
      }
      .page-head h1{margin:0 0 10px; font-size:36px; letter-spacing:.3px;}
      .page-head .sub{color:var(--muted); margin:0}

      /* ===== FORM LAYOUT ===== */
      .grid{display:grid; grid-template-columns:2fr 1fr; gap:18px; padding:22px 0;}
      .card{
        background:linear-gradient(180deg, #0f1419, #0c1116);
        border:1px solid rgba(255,255,255,.06);
        border-radius:18px; box-shadow:var(--shadow-lg);
      }
      .card .head{display:flex; align-items:center; justify-content:space-between; padding:16px 18px; border-bottom:1px solid rgba(255,255,255,.06)}
      .card .body{padding:18px}
      .hint{color:var(--muted); font-size:13px}

      /* spacing tweaks: more vertical space between fields */
      .row{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:16px;}
      .row.three{grid-template-columns:1fr 1fr 1fr}
      .row.full{grid-template-columns:1fr}
      .row:last-child{margin-bottom:0}

      label{display:block; font-weight:700; margin:2px 0 10px;}
      .opt{color:var(--muted); font-weight:600; font-size:12px; margin-left:6px}

      input[type="text"], input[type="email"], input[type="tel"], input[type="number"], input[type="url"], textarea, select{
        width:100%; padding:12px 14px; border:1px solid #2a333f; border-radius:12px; background:#0b1117; color:#e6f1ee; outline:none;
        transition:border-color .15s ease, box-shadow .15s ease; margin-bottom:6px;
      }
      textarea{min-height:110px}
      input:focus, textarea:focus, select:focus{ border-color:#1ad36a; box-shadow:0 0 0 4px rgba(35,209,106,.15) }

      /* remove number spinners */
      input[type="number"]::-webkit-outer-spin-button,
      input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
      input[type="number"]{ -moz-appearance:textfield; appearance:textfield; }

      .chips{display:flex; gap:8px; flex-wrap:wrap}
      .chip{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; background:#0b1218; border:1px solid #1d2836; color:#cde6da; font-weight:700; cursor:pointer}
      .chip input{accent-color:#19b357}

      .foot-actions{display:flex; justify-content:flex-end; gap:10px; padding:16px 18px; border-top:1px solid rgba(255,255,255,.06)}
      .divider{height:1px; background:#1d2836; margin:14px 0}

      /* Right column (Summary/Notes) */
      .side{display:flex; flex-direction:column; gap:12px}
      .note{padding:14px; border:1px dashed #243040; border-radius:14px; background:#0a1117; color:#b9c9c3}
      .pill{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; border:1px solid #22303e; background:#0a1117; color:#c7e8d9; font-size:12px}
      .stack{display:flex; flex-wrap:wrap; gap:8px}

      /* custom file input */
      .file-wrap{display:flex; align-items:center; gap:10px;}
      .file-hidden{position:absolute; left:-9999px; width:0; height:0; overflow:hidden;}
      .file-label{display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:12px; border:1px solid #2a333f; background:#0b1117; color:#e6f1ee; font-weight:700; cursor:pointer;}
      .file-name{color:#9fb0aa; font-size:13px;}

      /* date selects row */
      .date-row{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:16px;}
      .date-group{display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px;}
      .date-group select{min-width:0;}

      /* Footer */
      .footer{padding:28px 0; border-top:1px solid rgba(255,255,255,.06); color:#a7b9b1; background:#0a0c10; margin-top:40px;}

      /* Responsive (desktop-first) */
      @media (max-width:1140px){ .container{width:1000px} }
      @media (max-width:1000px){
        .container{width:920px}
        .grid{grid-template-columns:1fr}
      }
    </style>
  </head>
  <body>
    <!-- ===== NAV ===== -->
    <header class="nav">
      <div class="container row">
        <div class="brand">
          <span class="dot"></span><span>LinkHash</span>
        </div>
        <nav class="links">
        {% if meta.lang == "ko" %}
          {% url 'home_ko' as home_url %}
          {% url 'events_ko' as events_url %}
          {% url 'rewards_ko' as rewards_url %}
          {% url 'rewards_apply_ko' as apply_url %}
        {% else %}
          {% url 'home_en' as home_url %}
          {% url 'events_en' as events_url %}
          {% url 'rewards_en' as rewards_url %}
          {% url 'rewards_apply_en' as apply_url %}
        {% endif %}

        <a href="{{ home_url }}">{% if meta.lang == 'ko' %}í™ˆ{% else %}Home{% endif %}</a>
        <a href="{{ rewards_url }}">{% if meta.lang == 'ko' %}ë¦¬ì›Œë“œ{% else %}Rewards{% endif %}</a>
        <a href="{{ events_url }}">{% if meta.lang == 'ko' %}ì´ë²¤íŠ¸{% else %}Events{% endif %}</a>
        <a href="/leaderboard/">{% if meta.lang == 'ko' %}ë¦¬ë”ë³´ë“œ{% else %}Leaderboard{% endif %}</a>

        <!-- NEW: Apply for campaign (locale-aware) -->
        <a class="btn-outline" href="{{ apply_url }}"  style="font-weight:700;color:#d8ffe7">
          {% if meta.lang == 'ko' %}ìº í˜ì¸ ì‹ ì²­{% else %}Apply for campaign{% endif %}
        </a>

        {% if wallet_user %}
          <span class="btn-outline">ğŸ‘› {{ wallet_user.address|slice:":6" }}â€¦{{ wallet_user.address|slice:"-4:" }}</span>
          <a class="btn" href="#" onclick="logoutWallet && logoutWallet();return false;">
            {% if meta.lang == 'ko' %}ëŒ€ì‹œë³´ë“œ{% else %}Dashboard{% endif %}
          </a>
        {% else %}
          <a class="btn" href="#" onclick="connectWallet && connectWallet();return false;">
            {% if meta.lang == 'ko' %}ì§€ê°‘ ì—°ê²°{% else %}Connect Wallet{% endif %}
          </a>
        {% endif %}
      </nav>


      </div>
    </header>

    <!-- ===== PAGE HEADER ===== -->
    <section class="page-head">
      <div class="container">
        <h1>
          {% if meta.lang == 'ko' %}ìº í˜ì¸ ëŸ°ì¹­ ì‹ ì²­{% else %}Request a New Campaign{% endif %}
        </h1>
        <p class="sub">
          {% if meta.lang == 'ko' %}
            ì´ë©”ì¼ê³¼ ì „í™”ë²ˆí˜¸ë§Œ ìˆìœ¼ë©´ ì ‘ìˆ˜ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ ì •ë³´ëŠ” ì„ íƒ ì‚¬í•­ì´ë©°, ë‹´ë‹¹ìê°€ í›„ì† ì•ˆë‚´ë¥¼ ë“œë¦½ë‹ˆë‹¤.
          {% else %}
            Only email and phone are required to get started. Everything else is optionalâ€”weâ€™ll follow up for details.
          {% endif %}
        </p>
      </div>
    </section>

    <!-- ===== FORM ===== -->
    <main class="container" id="apply" style="padding-bottom:20px">
      <div class="grid">
        <!-- Left: Application form -->
        <section class="card" aria-labelledby="formTitle">
          <div class="head">
            <h2 id="formTitle" style="margin:0">
              {% if meta.lang == 'ko' %}ì‹ ì²­ ì •ë³´{% else %}Application Details{% endif %}
            </h2>
            <div class="stack">
              <span class="pill">Web3 Â· SEO Â· Rewards</span>
              <span class="pill">{% if meta.lang == 'ko' %}í™”ì´íŠ¸í–‡{% else %}White-hat{% endif %}</span>
            </div>
          </div>

          {% url 'rewards_apply_submit' as apply_submit_url %}
          <form class="body" method="post" action="{{ apply_submit_url|default:'#' }}" enctype="multipart/form-data" id="applyForm">
            {% csrf_token %}

            <!-- Contact -->
            <div class="row">
              <div>
                <label for="email">Email *</label>
                <input id="email" name="email" type="email" required placeholder="name@example.com" autocomplete="email">
                <div class="hint">{% if meta.lang == 'ko' %}í•„ìˆ˜{% else %}Required{% endif %}</div>
              </div>
              <div>
                <label for="phone">{% if meta.lang == 'ko' %}ì „í™”ë²ˆí˜¸{% else %}Phone{% endif %} *</label>
                <input id="phone" name="phone" type="tel" required placeholder="+82 10 1234 1234" inputmode="tel" autocomplete="tel">
                <div class="hint">{% if meta.lang == 'ko' %}êµ­ê°€ì½”ë“œ í¬í•¨{% else %}Include country code{% endif %}</div>
              </div>
            </div>

            <div class="row">
              <div>
                <label for="country">{% if meta.lang == 'ko' %}êµ­ê°€{% else %}Country{% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>
                <input id="country" name="country" type="text" placeholder="{% if meta.lang == 'ko' %}ì˜ˆ: ëŒ€í•œë¯¼êµ­{% else %}e.g. South Korea{% endif %}">
              </div>
              <div>
                <label for="title">{% if meta.lang == 'ko' %}ìº í˜ì¸ ì œëª©{% else %}Campaign Title{% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>
                <input id="title" name="campaign_title" type="text" placeholder="{% if meta.lang == 'ko' %}ì˜ˆ: SimpleQuant ë¸”ë¡œê·¸ ëŸ°ì¹­{% else %}e.g. SimpleQuant Blog Launch{% endif %}">
              </div>
            </div>

            <!-- Website -->
            <div class="row">
              <div>
                <label for="site_url">{% if meta.lang == 'ko' %}ì›¹ì‚¬ì´íŠ¸ URL{% else %}Website URL{% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>
                <input id="site_url" name="website_url" type="url" placeholder="https://example.com" inputmode="url" autocomplete="url">
              </div>
              <div>
                <label for="thumbInput">{% if meta.lang == 'ko' %}ì¸ë„¤ì¼ ì´ë¯¸ì§€{% else %}Thumbnail Image{% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>

                <!-- custom file control -->
                <div class="file-wrap">
                  <input id="thumbInput" class="file-hidden" name="thumbnail" type="file" accept="image/*">
                  <label class="file-label" for="thumbInput">
                    {% if meta.lang == 'ko' %}ì´ë¯¸ì§€ ì„ íƒ{% else %}Choose image{% endif %}
                  </label>
                  <span class="file-name" id="thumbName">
                    {% if meta.lang == 'ko' %}ì„ íƒëœ íŒŒì¼ ì—†ìŒ{% else %}No file selected{% endif %}
                  </span>
                </div>
              </div>
            </div>

            <div class="row full">
              <div>
                <label for="site_desc">{% if meta.lang == 'ko' %}ì›¹ì‚¬ì´íŠ¸ ì„¤ëª…{% else %}Website Description{% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>
                <textarea id="site_desc" name="website_description" placeholder="{% if meta.lang == 'ko' %}ì˜ˆ: í€€íŠ¸ íˆ¬ì ê´€ë ¨ íŠœí† ë¦¬ì–¼ê³¼ ë„êµ¬ ì œê³µ{% else %}e.g. Tutorials and tools for quantitative investing{% endif %}"></textarea>
              </div>
            </div>

            <!-- Task Types -->
            <div class="row full">
              <div>
                <label>{% if meta.lang == 'ko' %}ê³¼ì œ ìœ í˜• ì„ íƒ{% else %}Select Task Type(s){% endif %}</label>
                <div class="chips" role="group" aria-label="Task types">
                  <label class="chip">
                    <input type="checkbox" name="task_types" value="VISIT" id="t_visit"> VISIT
                  </label>
                  <label class="chip">
                    <input type="checkbox" name="task_types" value="LINK" id="t_link"> LINK
                  </label>
                </div>
                <div class="hint">
                  {% if meta.lang == 'ko' %}
                    VISIT: ì‚¬ì´íŠ¸ì—ì„œ ì½”ë“œ ì°¾ê¸° / LINK: SNSÂ·ë¸”ë¡œê·¸ì— ë¦¬ë·°+ë°±ë§í¬
                  {% else %}
                    VISIT: find a code on your site Â· LINK: publish a review with a backlink
                  {% endif %}
                </div>
              </div>
            </div>

            <!-- VISIT settings (conditional) -->
            <div id="visitBlock" class="row full" style="display:none">
              <div>
                <label for="visit_code">
                  {% if meta.lang == 'ko' %}ê²€ì¦ ì½”ë“œ (VISIT){% else %}Verification Code (VISIT){% endif %}
                  <span class="opt">({% if meta.lang == 'ko' %}ì°¸ì—¬ìê°€ í˜ì´ì§€ì—ì„œ ì°¾ì„ ì½”ë“œ{% else %}code participants must find on your page{% endif %})</span>
                </label>
                <input id="visit_code" name="visit_code" type="text" placeholder="e.g. CODE: X6K9Q2">
                <div class="hint">
                  {% if meta.lang == 'ko' %}ì˜ˆ: í•˜ë‹¨ í‘¸í„°ì— â€˜ì½”ë“œ: X6K9Q2â€™ í‘œì‹œ{% else %}Example: show â€œCode: X6K9Q2â€ in your footer{% endif %}
                </div>
              </div>
            </div>

            <!-- LINK settings (conditional but visible by default for SEO inputs) -->
            <div id="linkBlock" class="row">
              <div>
                <label for="expected_keywords">
                  {% if meta.lang == 'ko' %}ë¦¬ë·° ì˜ˆìƒ í‚¤ì›Œë“œ (LINK){% else %}Expected Review Keywords (LINK){% endif %}
                  <span class="opt">({% if meta.lang == 'ko' %}ì‰¼í‘œë¡œ êµ¬ë¶„{% else %}comma-separated{% endif %})</span>
                </label>
                <input id="expected_keywords" name="expected_review_keywords" type="text" placeholder="e.g. quant, backtesting, crypto tools">
              </div>
              <div>
                <label for="seo_keywords">
                  {% if meta.lang == 'ko' %}í˜„ì¬ SEO í‚¤ì›Œë“œ (ì‚¬ì´íŠ¸){% else %}Current Site SEO Keywords{% endif %}
                  <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span>
                </label>
                <input id="seo_keywords" name="current_seo_keywords" type="text" placeholder="e.g. algorithmic trading, strategy builder">
              </div>
            </div>

            <!-- Rewards -->
            <div class="row">
              <div>
                <label for="pool">{% if meta.lang == 'ko' %}ì´ ë¦¬ì›Œë“œ í’€ (USDT){% else %}Total Reward Pool (USDT){% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>
                <input id="pool" name="reward_pool_usdt" type="number" min="1" step="1" placeholder="e.g. 2500" inputmode="numeric" pattern="[0-9]*">
              </div>
              <div>
                <label for="payout">{% if meta.lang == 'ko' %}ê±´ë‹¹ ì˜ˆìƒ ë³´ìƒ (USDT){% else %}Expected Payout per Task (USDT){% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>
                <input id="payout" name="payout_per_task_usdt" type="number" min="0" step="0.01" placeholder="e.g. 3.50" inputmode="decimal">
              </div>
            </div>

            <!-- Dates (safe selects -> hidden ISO date fields) -->
            <div class="date-row">
              <div>
                <label>{% if meta.lang == 'ko' %}ìº í˜ì¸ ì‹œì‘ì¼{% else %}Start Date{% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>
                <div class="date-group" data-name="start_date">
                  <select id="start_y" aria-label="Start year"></select>
                  <select id="start_m" aria-label="Start month"></select>
                  <select id="start_d" aria-label="Start day"></select>
                </div>
                <input type="hidden" id="start" name="start_date" value="">
                <div class="hint">{% if meta.lang == 'ko' %}ì—°/ì›”/ì¼ ì„ íƒ ì‹œ ìë™ìœ¼ë¡œ YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.{% else %}Picking year/month/day saves as YYYY-MM-DD automatically.{% endif %}</div>
              </div>
              <div>
                <label>{% if meta.lang == 'ko' %}ìº í˜ì¸ ì¢…ë£Œì¼{% else %}End Date{% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>
                <div class="date-group" data-name="end_date">
                  <select id="end_y" aria-label="End year"></select>
                  <select id="end_m" aria-label="End month"></select>
                  <select id="end_d" aria-label="End day"></select>
                </div>
                <input type="hidden" id="end" name="end_date" value="">
                <div class="hint">{% if meta.lang == 'ko' %}ì§ì ‘ ì…ë ¥ ëŒ€ì‹  ì„ íƒë§Œ ê°€ëŠ¥í•˜ì—¬ ì˜¤íƒ€ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.{% else %}Using selects prevents typos like â€œ222220-02-04â€.{% endif %}</div>
              </div>
            </div>

            <!-- Airdrop -->
            <div class="row full">
              <div>
                <label for="airdrop_toggle">{% if meta.lang == 'ko' %}ì—ì–´ë“œë¡­ ì´ë²¤íŠ¸{% else %}Airdrop Event{% endif %}</label>
                <div class="chips">
                  <label class="chip">
                    <input id="airdrop_toggle" type="checkbox" name="airdrop_enabled" value="true"> {% if meta.lang == 'ko' %}ì—ì–´ë“œë¡­ ì§„í–‰{% else %}Enable Airdrop{% endif %}
                  </label>
                </div>
                <div id="airdropBlock" style="display:none; margin-top:12px">
                  <div class="row three">
                    <div>
                      <label for="airdrop_first_n">{% if meta.lang == 'ko' %}ì„ ì°©ìˆœ ì¸ì› (N){% else %}First N People{% endif %}</label>
                      <input id="airdrop_first_n" name="airdrop_first_n" type="number" min="1" step="1" placeholder="e.g. 100" inputmode="numeric" pattern="[0-9]*">
                    </div>
                    <div>
                      <label for="airdrop_amount">{% if meta.lang == 'ko' %}1ì¸ë‹¹ ì§€ê¸‰ (M){% else %}Amount per Person (M){% endif %}</label>
                      <input id="airdrop_amount" name="airdrop_amount_per_user" type="number" min="0" step="0.0001" placeholder="e.g. 25" inputmode="decimal">
                    </div>
                    <div>
                      <label for="airdrop_symbol">{% if meta.lang == 'ko' %}ì½”ì¸/í† í° ì‹¬ë³¼{% else %}Token Symbol{% endif %}</label>
                      <input id="airdrop_symbol" name="airdrop_token_symbol" type="text" placeholder="e.g. LKH">
                    </div>
                  </div>
                  <div class="row">
                    <div>
                      <label for="airdrop_chain">{% if meta.lang == 'ko' %}ì²´ì¸/ë„¤íŠ¸ì›Œí¬{% else %}Chain / Network{% endif %}</label>
                      <input id="airdrop_chain" name="airdrop_network" type="text" placeholder="e.g. Ethereum, Polygon">
                    </div>
                    <div>
                      <label for="airdrop_note">{% if meta.lang == 'ko' %}ì¶”ê°€ ì¡°ê±´{% else %}Additional Conditions{% endif %} <span class="opt">({% if meta.lang == 'ko' %}ì„ íƒ{% else %}optional{% endif %})</span></label>
                      <input id="airdrop_note" name="airdrop_note" type="text" placeholder="{% if meta.lang == 'ko' %}ì˜ˆ: KYC í•„ìš” ì—†ìŒ{% else %}e.g. no KYC required{% endif %}">
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="divider"></div>

            <!-- Submit -->
            <div class="foot-actions">
              <button class="btn-outline" type="reset">{% if meta.lang == 'ko' %}ì´ˆê¸°í™”{% else %}Reset{% endif %}</button>
              <button class="btn" type="submit">{% if meta.lang == 'ko' %}ì‹ ì²­ ë³´ë‚´ê¸°{% else %}Submit Application{% endif %}</button>
            </div>
          </form>
        </section>

        <!-- Right: Tips / Summary -->
        <aside class="side">
          <section class="card">
            <div class="head"><h3 style="margin:0">{% if meta.lang == 'ko' %}ê°€ì´ë“œ{% else %}Guide{% endif %}</h3></div>
            <div class="body">
              <div class="note">
                {% if meta.lang == 'ko' %}
                  ê¸°ë³¸ ì—°ë½ì²˜(ì´ë©”ì¼Â·ì „í™”)ê°€ í™•ì¸ë˜ë©´ ë‹´ë‹¹ìê°€ 24ì‹œê°„ ë‚´ë¡œ ì—°ë½ë“œë¦½ë‹ˆë‹¤. ìƒì„¸ ê·œì¹™, ì˜ˆì‚°, ê¸°ê°„ì€ ì´í›„ ì¡°ìœ¨ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                {% else %}
                  Once we have your email and phone, our team will contact you within 24 hours. Rules, budget, and dates can be finalized later.
                {% endif %}
              </div>
              <div style="height:8px"></div>
              <div class="stack">
                <span class="pill">White-hat</span>
                <span class="pill">Transparent</span>
                <span class="pill">Instant Rewards</span>
              </div>
            </div>
          </section>

          <section class="card">
            <div class="head"><h3 style="margin:0">{% if meta.lang == 'ko' %}ì‘ë™ ë°©ì‹{% else %}How It Works{% endif %}</h3></div>
            <div class="body">
              <ol style="margin:0 0 10px 18px; color:#cde6da; line-height:1.5">
                <li>{% if meta.lang == 'ko' %}ë³´ìƒ í’€ê³¼ ê¸°ê°„ ì„¤ì •{% else %}Set pool & window{% endif %}</li>
                <li>{% if meta.lang == 'ko' %}ê·œì¹™ ê³µê°œ (VISIT/LINK){% else %}Publish task rules (VISIT/LINK){% endif %}</li>
                <li>{% if meta.lang == 'ko' %}ì œì¶œ ê²€ì¦ & ì¦‰ì‹œ ë³´ìƒ{% else %}Verify submissions & pay instantly{% endif %}</li>
              </ol>
              <div class="note">
                {% if meta.lang == 'ko' %}
                  ì—ì–´ë“œë¡­ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì„ ì°©ìˆœ Nëª…ì—ê²Œ Mê°œì˜ í† í°ì„ ìë™ ë¶„ë°°í•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                {% else %}
                  With airdrops enabled, the first N participants can automatically receive M tokens as a bonus event.
                {% endif %}
              </div>
            </div>
          </section>
        </aside>
      </div>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="footer">
      <div class="container" style="display:flex; align-items:center; justify-content:space-between;">
        <div>Â© <strong>LinkHash</strong></div>
        <div style="opacity:.7">White-hat backlinks Â· Transparent rewards</div>
      </div>
    </footer>

    <!-- ===== LIGHT INTERACTIONS (no external libs needed) ===== -->
    <script type="module">
      // Toggle conditional blocks for VISIT and LINK task types + Airdrop
      const visitCb   = document.getElementById('t_visit');
      const linkCb    = document.getElementById('t_link');
      const visitBlk  = document.getElementById('visitBlock');
      const linkBlk   = document.getElementById('linkBlock');
      const airTgl    = document.getElementById('airdrop_toggle');
      const airBlk    = document.getElementById('airdropBlock');

      function updateBlocks(){
        visitBlk.style.display = visitCb?.checked ? 'block' : 'none';
        // keep SEO inputs visible by default
        linkBlk.style.display  = 'grid';
      }
      function updateAirdrop(){ airBlk.style.display = airTgl?.checked ? 'block' : 'none'; }

      visitCb?.addEventListener('change', updateBlocks);
      linkCb?.addEventListener('change', updateBlocks);
      airTgl?.addEventListener('change', updateAirdrop);

      // Custom file input: show name
      const thumbInput = document.getElementById('thumbInput');
      const thumbName  = document.getElementById('thumbName');
      thumbInput?.addEventListener('change', ()=>{
        const n = thumbInput.files?.[0]?.name || (thumbInput.value?.split('\\').pop()) || '';
        thumbName.textContent = n || (document.documentElement.lang === 'ko' ? 'ì„ íƒëœ íŒŒì¼ ì—†ìŒ' : 'No file selected');
      });

      // ===== Safe Date Selects =====
      function pad(n){ return String(n).padStart(2,'0'); }
      function daysIn(y,m){ return new Date(y, m, 0).getDate(); } // m: 1..12
      function fillYears(sel, start, end){
        sel.options.length = 0;
        const opt0 = new Option(document.documentElement.lang === 'ko' ? 'ì—°ë„' : 'Year', '');
        sel.add(opt0);
        for(let y=start; y<=end; y++) sel.add(new Option(String(y), y));
      }
      function fillMonths(sel){
        sel.options.length = 0;
        const opt0 = new Option(document.documentElement.lang === 'ko' ? 'ì›”' : 'Month', '');
        sel.add(opt0);
        for(let m=1; m<=12; m++) sel.add(new Option(pad(m), m));
      }
      function fillDays(sel, y, m){
        sel.options.length = 0;
        const opt0 = new Option(document.documentElement.lang === 'ko' ? 'ì¼' : 'Day', '');
        sel.add(opt0);
        const lim = (y && m) ? daysIn(Number(y), Number(m)) : 31;
        for(let d=1; d<=lim; d++) sel.add(new Option(pad(d), d));
      }
      function hookDateGroup(prefix){
        const y = document.getElementById(prefix + '_y');
        const m = document.getElementById(prefix + '_m');
        const d = document.getElementById(prefix + '_d');
        const hidden = document.getElementById(prefix === 'start' ? 'start' : 'end');

        // year range: current .. +2 (and -1 for safety)
        const now = new Date();
        fillYears(y, now.getFullYear() - 1, now.getFullYear() + 2);
        fillMonths(m);
        fillDays(d, '', '');

        function updateHidden(){
          const yy = y.value, mm = m.value, dd = d.value;
          if(yy && mm && dd){
            hidden.value = `${yy}-${pad(mm)}-${pad(dd)}`;
          }else{
            hidden.value = '';
          }
        }
        y.addEventListener('change', ()=>{ fillDays(d, y.value, m.value); updateHidden(); });
        m.addEventListener('change', ()=>{ fillDays(d, y.value, m.value); updateHidden(); });
        d.addEventListener('change', updateHidden);

        // initialize
        updateHidden();
      }
      hookDateGroup('start');
      hookDateGroup('end');

      // Prevent accidental non-numeric characters in purely numeric fields (soft guard)
      document.querySelectorAll('input[type="number"][inputmode="numeric"]').forEach(inp=>{
        inp.addEventListener('input', ()=>{ inp.value = inp.value.replace(/[^\d]/g,''); });
      });

      // On submit, ensures dates are already in hidden fields; nothing else to do
      const form = document.getElementById('applyForm');
      form?.addEventListener('submit', (e)=>{
        // no-op, hidden fields already set by change events
      });

      // Initialize on load
      updateBlocks();
      updateAirdrop();
    </script>
  </body>
</html>
